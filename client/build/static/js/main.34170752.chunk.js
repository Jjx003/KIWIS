(this["webpackJsonpkiwi-app"]=this["webpackJsonpkiwi-app"]||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/logo_white.b50a6676.png"},122:function(e,t,a){},142:function(e,t,a){},205:function(e,t,a){},215:function(e,t,a){},249:function(e,t,a){e.exports=a(438)},256:function(e,t,a){},284:function(e,t,a){},402:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(64),o=a.n(r),l=(a(122),a(55)),i=(a(83),a(12)),c=a(13),m=a(65),u=a(15),d=a(14),p=a(148),h=a.n(p);a(160).config();h()("36A3GKBNZI","22dc12a10fb0cec70da7edb08015731f");var g=h()("36A3GKBNZI","faecca1d5632ce9521cda7cd1857bd20"),f=(a(256),a(58)),v=a(447),E=a(156),b=a(111),N=a.n(b),y=a(449),w=a(5),S=a.n(w);a(160).config();var O=a(273).initializeApp({apiKey:"AIzaSyCzdW3t_OX6BY4-gZRe13EzKi1p0ZJgtnM",authDomain:"kiwi-110.firebaseapp.com",databaseURL:"https://kiwi-110.firebaseio.com",projectId:"kiwi-110",storageBucket:"kiwi-110.appspot.com",messagingSenderId:"G-0RPNZ04Z0S",appId:"1:806998377470:web:88ccdadc496f82f00476af",measurementId:"G-0RPNZ04Z0S"}),k=a(46),_=(a(284),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSignOut=function(){O.auth().signOut(),(new k.a).remove("auth"),window.localStorage.removeItem("current_tags"),window.localStorage.removeItem("original_tags"),n.props.history.push("/login")},n.resetSpecializations=function(){n.setState({got_specializations:!1,default_tags:[]}),S()({method:"GET",url:"http://localhost:9000/users/userTags",withCredentials:!0}).then((function(e){var t=JSON.stringify(e.data),a=JSON.parse(t);for(var s in a)a.hasOwnProperty(s)&&n.setState({default_tags:[].concat(Object(f.a)(n.state.default_tags),[a[s]])});window.localStorage.setItem("current_tags",t),window.localStorage.setItem("original_tags",t),n.props.updateForumDisp(n.state.default_tags),n.setState({got_specializations:!0})})).catch((function(e){console.log(e)}))},n.handleChange=function(e,t){var a=t.value;n.setState({tags:a}),n.props.updateForumDisp(a),window.localStorage.setItem("current_tags",JSON.stringify(a))},n.setTextSearch=function(e){n.setState({value:e.target.value},(function(){0===n.state.value.length?(n.setState({searching:!1}),n.props.resetTextSearch()):n.state.searching||(n.setState({searching:!0}),n.props.setTextSearch())}))},n.state={tags:[],forum_tags:[],default_tags:[],value:"",searching:!1,got_specializations:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/tags/getTags"}).then((function(t){if(t.data.success){for(var a in t.data.tags){var n=a;e.setState({forum_tags:[].concat(Object(f.a)(e.state.forum_tags),[{key:n,text:n,value:n}])})}if(void 0==localStorage.getItem("current_tags"))S.a.defaults.withCredentials=!0,S()({method:"GET",url:"http://localhost:9000/users/userTags",withCredentials:!0}).then((function(t){var a=JSON.stringify(t.data),n=JSON.parse(a);for(var s in n)n.hasOwnProperty(s)&&e.setState({default_tags:[].concat(Object(f.a)(e.state.default_tags),[n[s]])});window.localStorage.setItem("current_tags",a),window.localStorage.setItem("original_tags",a),console.log(window.localStorage.getItem("original_tags")),e.props.updateForumDisp(e.state.default_tags),e.setState({got_specializations:!0})})).catch((function(e){console.log(e)}));else{var s=window.localStorage.getItem("current_tags");console.log(s);var r=JSON.parse(s);for(var a in r)r.hasOwnProperty(a)&&e.setState({default_tags:[].concat(Object(f.a)(e.state.default_tags),[r[a]])});e.props.updateForumDisp(e.state.default_tags),e.setState({got_specializations:!0})}}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.got_specializations?s.a.createElement("div",{className:"navbar_block"},s.a.createElement("div",{className:"kiwiLogo"},s.a.createElement("button",{className:"invisibleButton",onClick:function(){e.props.history.push("/")}},s.a.createElement("img",{src:N.a,height:"40px",alt:"KIWI"}))),s.a.createElement("div",{className:"searchBar"},s.a.createElement(y.a,{className:"searching",searchAsYouType:!0,onChange:this.setTextSearch,translations:{placeholder:"What's your question?"}})),s.a.createElement("div",{className:"tagComponent"},s.a.createElement(v.a,{fluid:!0,multiple:!0,selection:!0,scrolling:!0,search:!0,placeholder:"Tags",onChange:this.handleChange,loading:!this.state.got_specializations,defaultValue:this.state.default_tags,options:Object(f.a)(this.state.forum_tags),clearable:!0})),s.a.createElement("div",{className:"reset"},s.a.createElement("button",{className:"invisibleButton",onClick:this.resetSpecializations.bind(this)},"reset specializations")),s.a.createElement("div",{className:"settings"},s.a.createElement("button",{className:"invisibleButton",onClick:function(){e.props.history.push("/settings")}},s.a.createElement(E.a,{link:!0,name:"settings",size:"big",color:"grey",inverted:!0}))),s.a.createElement("div",{className:"logoutButton"},s.a.createElement("button",{className:"invisibleButton",onClick:this.handleSignOut},s.a.createElement(E.a,{link:!0,name:"sign out",size:"big",color:"grey",inverted:!0})))):s.a.createElement("h1",null," loading navbar... ")}}]),a}(s.a.Component)),j=Object(l.f)(_),P=a(448),C=a(450),I=a(444),x=(a(205),a(402),a(237)),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.tags;return void 0===e&&(e=[]),s.a.createElement("div",{className:"tag-display"},e.map((function(e,t){return s.a.createElement(x.a,{key:t,color:"purple"},e)})))}}]),a}(s.a.Component),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"handleClick",value:function(){this.props.history.push({pathname:"/viewPost/"+this.props.post_id.toString()})}},{key:"render",value:function(){return s.a.createElement("div",{onClick:this.handleClick.bind(this),className:"post-cards"},s.a.createElement("h1",{className:"PostTitle"}," ",this.props.title," "),s.a.createElement("div",{className:"PostTags"},s.a.createElement(T,{tags:this.props.tag_ids})),s.a.createElement("h3",{className:"Poster"}," ","Created by: "+this.props.name," "),s.a.createElement("h3",{className:"PostDate"}," ","Date Created: "+this.props.date_time," "))}}]),a}(s.a.Component),R=Object(l.f)(D),U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setTextSearchState=function(){n.setState({textSearch:!0})},n.resetTextSearchState=function(){n.setState({textSearch:!1})},n.state={posts:[],users:{},textSearch:!1,updated:!1,company:"empty",forumEmpty:!1},n.updateTagSearch=n.updateTagSearch.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/users/company"}).then((function(t){200===t.status&&e.setState({company:t.data})})).catch((function(e){console.log(e)})),S()({method:"get",url:"http://localhost:9000/users/allUsers"}).then((function(t){200===t.status&&e.setState({users:t.data})})).catch((function(e){console.log(e)})),S()({method:"get",url:"http://localhost:9000/posts/"}).then((function(t){t.data.success&&e.setState({posts:t.data.posts})})).catch((function(e){console.log(e)})).then((function(){void 0===e.state.posts||0==e.state.posts.length?e.setState({forumEmpty:!0}):e.setState({forumEmpty:!1})}))}},{key:"searchTags",value:function(e,t){return this.state.posts.forEach((function(a){void 0!==a.tag_ids&&a.tag_ids.forEach((function(n){e.includes(n)&&t.push(a.key)}))}))}},{key:"updateTagSearch",value:function(e){var t=[];this.searchTags(e,t),this.state.posts&&(this.setState((function(a){a.posts.forEach((function(a){0===e.length||t.includes(a.key)?a.visible=!0:a.visible=!1}))})),this.setState({updated:!this.state.updated}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(P.a,{indexName:this.state.company,searchClient:g},s.a.createElement(j,{updateForumDisp:this.updateTagSearch,setTextSearch:this.setTextSearchState,resetTextSearch:this.resetTextSearchState}),s.a.createElement(B,{posts:this.state.posts,users:this.state.users,forumEmpty:this.state.forumEmpty,textSearch:this.state.textSearch})))}}]),a}(s.a.Component);function B(e){return e.textSearch?s.a.createElement(W,{props:e},s.a.createElement(C.a,{className:"posts-container",hitComponent:function(t){var a=t.hit;return s.a.createElement(L,{hit:a,users:e.users})}})):s.a.createElement(A,{posts:e.posts,users:e.users,forumEmpty:e.forumEmpty})}function A(e){var t=function(t){var a="Deleted User";return void 0!==e.users&&void 0!==e.users[t]&&(a=e.users[t].firstName+" "+e.users[t].lastName),a};return e.forumEmpty?s.a.createElement("div",{className:"posts-container"},s.a.createElement("div",{className:"no-results-msg"},s.a.createElement("p",null,"Welcome to the company's KIWI forum! Please start by creating a post."),s.a.createElement(z,{props:e}))):s.a.createElement("div",{className:"posts-container"},e.posts.map((function(e,a){return e.visible?s.a.createElement(R,{key:a,post_id:e.key,user_id:e.user_id,title:e.title,tag_ids:e.tag_ids,date_time:e.date_time,karma:e.karma,content:e.content,responses:e.responses,name:t(e.user_id)}):s.a.createElement("div",{key:a})})))}function L(e){var t=e.hit,a=e.users;return s.a.createElement("div",null,s.a.createElement(R,{post_id:t.objectID,user_id:t.user_id,title:t.title,tag_ids:t.tag_ids,date_time:t.date_time,karma:t.karma,content:t.content,responses:t.responses,name:function(e){var t="no_user";return void 0!==a&&void 0!==a[e]&&(t=a[e].firstName+" "+a[e].lastName),t}(t.user_id)}))}var z=Object(l.f)((function(e){return s.a.createElement("button",{className:"create-post-button",onClick:function(){e.history.push("/createPost")}},"Create Post")})),W=Object(I.a)((function(e,t){var a=e.searchState,n=e.searchResults,r=e.children;return n&&0!==n.nbHits?r:s.a.createElement("div",{className:"posts-container"},s.a.createElement("div",{className:"no-results-msg"},s.a.createElement("p",null,'No results have been found for "',a.query,'"')," ",s.a.createElement("br",null),s.a.createElement(z,{props:t})))})),M=U,F=function(e){e.history;return s.a.createElement("div",{className:"app"},s.a.createElement(M,null))},K=(a(412),a(78)),q=a.n(K),J=a(154),Z=s.a.createContext(),G=s.a.createContext(),V=new k.a,Y=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(J.a)(a,2),o=r[0],l=r[1],i=Object(n.useState)(!1),c=Object(J.a)(i,2),m=c[0],u=c[1];S.a.defaults.withCredentials=!0;var d=function(){return S()({method:"get",url:"http://localhost:9000/auth/checkIfSignedIn",withCredentials:!0}).then((function(e){e.data.success?l(!0):l(!1)})).catch((function(e){console.log(e),l(!1)})).then((function(){u(!0)}))};return Object(n.useEffect)((function(){d(),V.addChangeListener((function(e,t,a){"auth"===e&&null!=t&&null!=a&&d()}))}),[]),m?s.a.createElement(G.Provider,{value:d},s.a.createElement(Z.Provider,{value:{currentUser:o}},t)):s.a.createElement("h1",null,"Loading...")},H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isLoading:!0},e.handleSignUp=function(t){t.preventDefault();var a=t.target.elements,n=a.first_name,s=a.last_name,r=a.email,o=a.password;S()({method:"post",url:"http://localhost:9000/auth/EmployeeSignUp",data:{first_name:n.value,last_name:s.value,email:r.value,password:o.value,registration_ID:e.props.match.params.id}}).then((function(t){t.data.success?O.auth().signInWithEmailAndPassword(r.value,o.value).then((function(){console.log("Entered sign in"),O.auth().currentUser.getIdToken(!0).then((function(t){(new k.a).set("auth",t,{path:"/"}),console.log("Entered create token"),setTimeout((function(){e.props.history.push("/")}),3e3)})).catch((function(e){return console.log(e)}))})):alert("error in sign up, most likely the email is already being used.")})).catch((function(e){console.log(e)}))},e.redirectLogin=function(){e.props.history.push("/login")},e.redirectSpecializations=function(){e.props.history.push("/")},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;S()({method:"post",url:"http://localhost:9000/inviteUser/validateID",data:{uuid:this.props.match.params.id}}).then((function(t){t.data.success?e.setState({isLoading:!1}):(alert("Invalid RegistrationID"),e.props.history.push("/login"))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement("h1",null," Loading... "):s.a.createElement("div",{className:"signup"},s.a.createElement("div",{className:"signupRow"},s.a.createElement("div",{className:"left"},s.a.createElement("div",{className:"picture"},s.a.createElement("img",{className:"picture",src:q.a})),s.a.createElement("div",{className:"leftText"},s.a.createElement("p1",null,"Our company will ensure the success and coordination of all co-workers. Each company has their own unique tags. Where each employee can also be uniquely identified ",s.a.createElement("br",null)," ",s.a.createElement("br",null),"Please Signup on the right in order to get started ",s.a.createElement("br",null)," ",s.a.createElement("br",null),s.a.createElement("br",null)," ",s.a.createElement("br",null)," Thank you for choosing KIWI."))),s.a.createElement("div",{className:"right"},s.a.createElement("div",{className:"rightTitle"},s.a.createElement("h1",null,"Sign Up")),s.a.createElement("form",{onSubmit:this.handleSignUp.bind(this)},s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"first_name",type:"first_name",placeholder:"  First Name"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"last_name",type:"last_name",placeholder:"  Last Name"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"email",type:"email",placeholder:"  Email"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"password",type:"password",placeholder:"  Password"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"password2",type:"password",placeholder:"  Re-Enter Password"})),s.a.createElement("div",{className:"inputBox"},s.a.createElement("button",{className:"button12",type:"submit"},"Sign Up"),s.a.createElement("button",{className:"button22",onClick:this.redirectLogin.bind(this)}," Back to Login"))))),s.a.createElement("div",{className:"endText"},s.a.createElement("p1",null,"\xa9 All Rights Reserved. KIWI by Symps.")))}}]),a}(s.a.Component),X=(a(413),function(e){var t=e.history,a=function(){t.push("/login")};return s.a.createElement("div",{className:"signup"},s.a.createElement("div",{className:"signupRow"},s.a.createElement("div",{className:"left"},s.a.createElement("div",{className:"picture"},s.a.createElement("img",{className:"picture",src:q.a})),s.a.createElement("div",{className:"leftText"},s.a.createElement("p1",null,"Our company will ensure the success and coordination of all co-workers. Each company has their own unique tags. Where each employee can also be uniquely identified ",s.a.createElement("br",null)," ",s.a.createElement("br",null),"Please Signup on the right in order to get started ",s.a.createElement("br",null)," ",s.a.createElement("br",null),s.a.createElement("br",null)," ",s.a.createElement("br",null)," Thank you for choosing KIWI."))),s.a.createElement("div",{className:"right"},s.a.createElement("div",{className:"rightTitle"},s.a.createElement("h1",null,"Admin Sign Up")),s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,n=t.company,s=t.first_name,r=t.last_name,o=t.email,l=t.password,i=t.passwordcopy;l.value==i.value?S()({method:"post",url:"http://localhost:9000/auth/AdminSignUp",data:{company:n.value,first_name:s.value,last_name:r.value,email:o.value,password:l.value}}).then((function(e){e.data.success?(alert("Company Forum successfully made! Welcome to KIWI."),a()):(console.log("error in sign up, most likely account has already been made"),alert("Invalid company/email/password. Company or email may already be in use and password must be at least 6 characters."))})).catch((function(e){console.log(e)})):alert("Please make sure the passwords match.")}},s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"company",type:"company",placeholder:"  Company"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"first_name",type:"first_name",placeholder:"  First Name"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"last_name",type:"last_name",placeholder:"  Last Name"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"email",type:"email",placeholder:"  Email"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"password",type:"password",placeholder:"  Password"})),s.a.createElement("div",null,s.a.createElement("input",{className:"inputBox",name:"passwordcopy",type:"password",placeholder:"  Re-Enter Password"})),s.a.createElement("div",{className:"inputBox"},s.a.createElement("button",{className:"button12",type:"submit"},"Sign Up"),s.a.createElement("button",{className:"button22",onClick:a}," Back to Login"))))),s.a.createElement("div",{className:"endText"},s.a.createElement("p1",null,"\xa9 All Rights Reserved. KIWI by Symps.")))}),$=(a(414),function(e){var t=e.history,a=Object(n.useContext)(G);return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"inside"},s.a.createElement("div",{className:"columnx"},s.a.createElement("img",{className:"pic",src:q.a}),s.a.createElement("h1",{className:"font"},"Login"),s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements,s=n.email,r=n.password;O.auth().signInWithEmailAndPassword(s.value,r.value).then((function(){O.auth().currentUser.getIdToken(!0).then((function(e){(new k.a).set("auth",e,{path:"/"}),a().then((function(){t.push("/")}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),alert("Invalid Credentials")}))}},s.a.createElement("div",{className:"textField"},s.a.createElement("input",{className:"textBox",name:"email",type:"email",placeholder:"  Email"})),s.a.createElement("div",{className:"textField"},s.a.createElement("input",{className:"textBox",name:"password",type:"password",placeholder:"  Password"})),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"button1",type:"submit"},"Log In"),s.a.createElement("button",{className:"button2",type:"button",onClick:function(){t.push("/adminsignup")}},"Sign Up"))))),s.a.createElement("div",{className:"endText"},s.a.createElement("p",null,"\xa9 All Rights Reserved. KIWI by Symps.")))}),Q=a(238),ee=function(e){var t=e.component,a=e.dynamic,r=Object(Q.a)(e,["component","dynamic"]),o=Object(n.useContext)(Z).currentUser;return a?s.a.createElement(l.b,Object.assign({},r,{render:function(e,a){var n=e.match;return o?s.a.createElement(t,Object.assign({},a,{id:n.params.id})):s.a.createElement(l.a,{to:"/login"})}})):s.a.createElement(l.b,Object.assign({},r,{render:function(e){return o?s.a.createElement(t,e):s.a.createElement(l.a,{to:"/login"})}}))},te=a(155),ae=a(445),ne=a(25),se=(a(415),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSignOut=function(){O.auth().signOut(),(new k.a).remove("auth")},n.state={title:n.props.title},n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"title_block"},s.a.createElement("div",{className:"kiwiLogo"},s.a.createElement(ne.b,{to:"/"},s.a.createElement("button",{className:"invisibleButton"},s.a.createElement("img",{src:N.a,height:"40px",alt:"KIWI"})))),s.a.createElement("div",{className:"vert-line"},s.a.createElement("p",null,"|")),s.a.createElement("div",{className:"title-text"},s.a.createElement("p",null,this.state.title)),s.a.createElement("div",{className:"settings"},s.a.createElement(ne.b,{to:"/settings"},s.a.createElement(E.a,{link:!0,name:"settings",size:"big",color:"grey",inverted:!0}))),s.a.createElement("div",{className:"logoutButton"},s.a.createElement(ne.b,{to:"/login"},s.a.createElement("button",{className:"invisibleButton",onClick:this.handleSignOut},s.a.createElement(E.a,{link:!0,name:"sign out",size:"big",color:"grey",inverted:!0})))))}}]),a}(s.a.Component)),re=(a(416),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleResetPassword=function(e){e.preventDefault();var t=e.target.elements,a=t.password,n=t.confirmPassword;a.value==n.value?window.confirm("Confirm Reset Password?")&&S()({method:"post",url:"http://localhost:9000/auth/resetPassword",data:{newPassword:a.value}}).then((function(){alert("Password Changed")})):alert("Please Make Sure the Passwords Match")},n.state={user_email:"",admin:!1},S()({method:"get",url:"http://localhost:9000/users/getUserEmail"}).then((function(e){n.setState({user_email:e.data.userEmail}),console.log(e)})),S()({method:"get",url:"http://localhost:9000/users/isUserAdmin"}).then((function(e){console.log(e),n.setState({admin:e.data.admin})})),n}return Object(c.a)(a,[{key:"render",value:function(){return this.state.admin?s.a.createElement("div",null,s.a.createElement(se,{title:"Settings"}),s.a.createElement("div",{className:"setting"},s.a.createElement("div",{className:"settingsWrap"},s.a.createElement(te.a,{basic:!0,textAlign:"center"},s.a.createElement("div",{className:"settings-item",style:{paddingLeft:"10px"}},"Email:     ",s.a.createElement("b",null,this.state.user_email)),s.a.createElement("form",{onSubmit:this.handleResetPassword.bind(this)},s.a.createElement("div",{className:"settings-item"},s.a.createElement("input",{className:"textBox",name:"password",type:"password",placeholder:"  New Password"})),s.a.createElement("div",{className:"settings-item"},s.a.createElement("input",{className:"textBox",name:"confirmPassword",type:"password",placeholder:"  Confirm Password"})),s.a.createElement("div",{className:"settings-item"},s.a.createElement("button",{className:"buttonz"}," Submit "))),s.a.createElement("div",{className:"instructions"},"Click below to modify specializations."),s.a.createElement("div",{className:"settings-item"},s.a.createElement(ne.b,{to:"/userTags"},s.a.createElement("button",{className:"buttonz"},"  Specializations"))),s.a.createElement(ae.a,{horizontal:!0}," Admins Only "),s.a.createElement("div",{className:"settings-item"},s.a.createElement(ne.b,{to:"/adminPage"},s.a.createElement("button",{className:"buttonz",onClick:this.redirectAdmin}," Manage Forum "))))),s.a.createElement("div",{className:"endText"},s.a.createElement("p1",null,"\xa9 All Rights Reserved. KIWI by Symps.")))):s.a.createElement("div",null,s.a.createElement(se,{title:"Settings"}),s.a.createElement("div",{className:"setting"},s.a.createElement("div",{className:"settingsWrap"},s.a.createElement(te.a,{basic:!0,textAlign:"center"},s.a.createElement("div",{className:"settings-item",style:{paddingLeft:"10px"}},"Email:     ",s.a.createElement("b",null,this.state.user_email)),s.a.createElement("form",{onSubmit:this.handleResetPassword.bind(this)},s.a.createElement("div",{className:"settings-item"},s.a.createElement("input",{className:"textBox",name:"password",type:"password",placeholder:"  New Password"})),s.a.createElement("div",{className:"settings-item"},s.a.createElement("input",{className:"textBox",name:"confirmPassword",type:"password",placeholder:"  Confirm Password"})),s.a.createElement("div",{className:"settings-item"},s.a.createElement("button",{className:"buttonz"}," Submit "))),s.a.createElement("div",{className:"instructions"},"Click below to modify specializations."),s.a.createElement("div",{className:"settings-item"},s.a.createElement(ne.b,{to:"/userTags"},s.a.createElement("button",{className:"buttonz"},"  Specializations"))))),s.a.createElement("div",{className:"endText"},s.a.createElement("p1",null,"\xa9 All Rights Reserved. KIWI by Symps."))))}}]),a}(s.a.Component)),oe=(a(417),a(418),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={removed:!1,user_id:e.user_id,first_name:e.first_name,last_name:e.last_name,email:e.email,admin:e.admin,checkemail:""},S()({method:"get",url:"http://localhost:9000/users/getUserEmail"}).then((function(e){n.setState({checkemail:e.data.userEmail}),console.log(e.data)})),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;this.state.user_id;return this.state.removed?s.a.createElement("div",{className:"displayUserBarDU"},s.a.createElement("div",{className:"removed"}," removed ")):s.a.createElement("div",{className:"displayUserBarDU"},s.a.createElement("div",{className:"first_nameDU"}," ",this.state.first_name," "),s.a.createElement("div",{className:"last_nameDU"}," ",this.state.last_name," "),s.a.createElement("div",{className:"emailDU"}," ",this.state.email," "),s.a.createElement("div",{className:"user_idDU"}," ",this.state.user_id," "),s.a.createElement("div",{className:"buttonsDU"},s.a.createElement("button",{onClick:function(){e.state.checkemail!=e.state.email?S()({method:"post",url:"http://localhost:9000/users/toggleAdmin",data:{userID:e.state.user_id}}).then((function(t){e.setState({admin:!e.state.admin})})):alert("Can't Un-admin Yourself")}},this.state.admin?s.a.createElement(E.a,{fitted:!0,color:"yellow",name:"star"}):s.a.createElement(E.a,{fitted:!0,color:"yellow",name:"star outline"})),s.a.createElement("button",{onClick:function(){e.state.checkemail!=e.state.email?window.confirm("Removing "+e.state.first_name+" "+e.state.last_name)&&S()({method:"post",url:"http://localhost:9000/users/remove",data:{userID:e.state.user_id}}).then((function(t){e.setState({removed:!0})})):alert("Can't Delete Yourself")}}," X ")))}}]),a}(s.a.Component)),le=a(446),ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading_user:!0,userList:["loading"],users:{loading:!0}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/users/all"}).then((function(t){e.setState({users:t.data}),e.setState({userList:Object.keys(t.data),loading_user:!1})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(le.a.Pane,{className:"adminPageAP"},s.a.createElement("h1",{style:{textAlign:"center"}}," Add and Remove Employees "),s.a.createElement("div",{className:"tagUserListAP"},this.state.loading_user?s.a.createElement("div",null,s.a.createElement(E.a,{loading:!0,name:"spinner"})," loading..."):s.a.createElement("div",{className:"ListOfUsers"},this.state.userList.map((function(t){return s.a.createElement(oe,{user_id:t,first_name:e.state.users[t].firstName,last_name:e.state.users[t].lastName,email:e.state.users[t].email,admin:e.state.users[t].admin})}))),s.a.createElement("div",null,s.a.createElement("div",{className:"addEmployeeAP"},s.a.createElement("div",{className:"invitePromptAP"},"Add Employee Email "),s.a.createElement("form",{className:"TagForm",onSubmit:function(e){e.preventDefault();var t=e.target.elements.email;window.confirm("Adding employee with email:  "+t.value)&&S()({method:"post",url:"http://localhost:9000/inviteUser/",data:{email:t.value}}),e.target.reset()}.bind(this)},s.a.createElement("input",{className:"inputBoxAP",name:"email",type:"email",placeholder:"  email"}),s.a.createElement("button",null," + "))))))}}]),a}(s.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={tagList:{},loading:!0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/metadata/getTagMetadata"}).then((function(t){console.log(t),null==t.data.success?e.setState({tagList:t.data,loading:!1}):(t.data.success,e.setState({tagList:{"No Metadata Recorded":"Requires Posts to Record Data"},loading:!1}))}))}},{key:"render",value:function(){var e=this,t=this.state.tagList;return s.a.createElement(le.a.Pane,{className:"adminPageAP"},s.a.createElement("h1",{style:{textAlign:"center"}}," Tag Meta Data (Occurences of Tags in Posts) "),s.a.createElement("div",{className:"tagListAP"},this.state.loading?s.a.createElement("div",null,s.a.createElement(E.a,{loading:!0,name:"spinner"})," loading"):Object.keys(t).map((function(t){return s.a.createElement("div",{className:"MTTbar"}," ",t,"  : ",e.state.tagList[t]," ")}))))}}]),a}(s.a.Component),me=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userList:{},loading:!0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/metadata/getUserMetadata"}).then((function(t){console.log(t),null==t.data.success?e.setState({userList:t.data,loading:!1}):(t.data.success,e.setState({userList:{"No Metadata Recorded":"Requires Posts to Record Data"},loading:!1}))}))}},{key:"render",value:function(){var e=this,t=this.state.userList;return s.a.createElement(le.a.Pane,{className:"adminPageAP"},s.a.createElement("h1",{style:{textAlign:"center"}}," User Meta Data (Frequency of Post by Users) "),s.a.createElement("div",{className:"tagListAP"},this.state.loading?s.a.createElement("div",null,s.a.createElement(E.a,{loading:!0,name:"spinner"})," loading"):Object.keys(t).map((function(t){return s.a.createElement("div",{className:"MUTbar"}," ",t," :  ",e.state.userList[t]," ")}))))}}]),a}(s.a.Component),ue=(a(434),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={removed:!1,tag_id:n.props.tag_id},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return this.state.removed?s.a.createElement("div",{className:"tagButtonDT"},s.a.createElement("div",{className:"removed"}," removed ")):s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){window.confirm("Removing "+e.state.tag_id)&&S()({method:"post",url:"http://localhost:9000/tags/remove",data:{tagName:e.state.tag_id}}).then((function(t){e.setState({removed:!0})}))},className:"tagButtonDT"}," ",this.state.tag_id," \xa0 \xa0 \xa0 \xa0 \xa0 x"))}}]),a}(s.a.Component)),de=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading_tag:!0,tagList:["loading"],currTag:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/tags/getTags"}).then((function(t){e.setState({tagList:Object.keys(t.data.tags),loading_tag:!1})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(le.a.Pane,{className:"adminPageAP"},s.a.createElement("h1",{style:{textAlign:"center"}}," Add and Remove Specializations "),s.a.createElement("div",{className:"tagListAP"},this.state.loading_tag?s.a.createElement("div",null,s.a.createElement(E.a,{loading:!0,name:"spinner"})," loading"):this.state.tagList.map((function(e){return s.a.createElement("div",null," ",s.a.createElement(ue,{tag_id:e})," ")}))),s.a.createElement("div",{className:"addTagAP"},s.a.createElement("div",{className:"tagPromptAP"},"Add tag name "),s.a.createElement("form",{className:"TagForm",onSubmit:function(t){t.preventDefault();var a=t.target.elements.tagname;e.setState({currTag:a.value}),window.confirm("Adding specialization:  "+a.value)&&S()({method:"post",url:"http://localhost:9000/tags/add",data:{tagName:a.value}}).then((function(){e.state.tagList.push(e.state.currTag),e.setState({tagList:e.state.tagList})})),t.target.reset()}.bind(this)},s.a.createElement("input",{className:"inputBoxAP",name:"tagname",type:"tagname",placeholder:"  tag name"}),s.a.createElement("button",null," + "))))}}]),a}(s.a.Component),pe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=[{menuItem:"Users",render:function(){return s.a.createElement(ie,null)}},{menuItem:"Tags",render:function(){return s.a.createElement(de,null)}},{menuItem:"Metadata - Tags",render:function(){return s.a.createElement(ce,null)}},{menuItem:"Metadata - Users",render:function(){return s.a.createElement(me,null)}}];return s.a.createElement("div",null,s.a.createElement(se,{title:"Manage Forum"}),s.a.createElement(le.a,{panes:e}),s.a.createElement("div",{className:"endText"},s.a.createElement("p1",null,"\xa9 All Rights Reserved. KIWI by Symps.")))}}]),a}(s.a.Component),he=(a(215),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).addSpecialization=function(e){var t=e;if(""==n.state.user_info)var a={};else a=n.state.user_info;S.a.defaults.withCredentials=!0,S()({method:"post",url:"http://localhost:9000/users/addSpecialization",data:{tag:t},withCredentials:!0}).then((function(t){t.data.success?(console.log("successfully added"),a[e]=e,n.setState({user_info:a})):console.log("Tag was not added")})).catch((function(e){console.log(e)}))},n.removeSpecialization=function(e){var t=e;if(""==n.state.user_info)var a={};else a=n.state.user_info;S.a.defaults.withCredentials=!0,S()({method:"post",url:"http://localhost:9000/users/removeSpecialization",data:{tag:t},withCredentials:!0}).then((function(t){t.data.success?(console.log("Tag was successfully removed!"),delete a[e],n.setState({user_info:a})):console.log("Tag was not added")})).catch((function(e){console.log(e)}))},n.state={thisTag:n.props.tag,user_info:n.props.user_tags,tagButton:"tagButton"},n.checkSpecialization(),n}return Object(c.a)(a,[{key:"checkSpecialization",value:function(){var e=this.state.user_info,t=this.state.tagButton,a=this.state.thisTag;e.hasOwnProperty(a)&&"tagButton"==t?this.setState({tagButton:"tagButton2"}):e.hasOwnProperty(a)||"tagButton2"!=t||this.setState({tagButton:"tagButton"})}},{key:"render",value:function(){var e=this,t=this.state.user_info,a=this.state.tagButton,n=this.state.thisTag;this.checkSpecialization();return s.a.createElement("button",{onClick:function(){t.hasOwnProperty(n)?e.removeSpecialization(n):e.addSpecialization(n)},className:a},n)}}]),a}(s.a.Component)),ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).resetTags=function(e){e.preventDefault(),S.a.defaults.withCredentials=!0,S()({method:"post",url:"http://localhost:9000/users/removeAllUserTags",withCredentials:!0}).then((function(e){window.location.reload(!1),e.data.success?alert("Removed All Tags!"):console("um functional error?")})).catch((function(e){console.log(e)}))},n.state={info:{},user_info:{},isLoading:!0},S.a.defaults.withCredentials=!0,S()({method:"get",url:"http://localhost:9000/tags/getTags",withCredentials:!0}).then((function(e){void 0!=e?n.setState({info:e.data.tags}):console.log("error with tags.")})).catch((function(e){console.log(e)})),S.a.defaults.withCredentials=!0,S()({method:"get",url:"http://localhost:9000/users/userTags",withCredentials:!0}).then((function(e){void 0!=e?(n.setState({user_info:e.data}),n.setState({isLoading:!1})):console.log("error with tags.")})).catch((function(e){console.log(e)})),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.info,t=this.state.user_info;return s.a.createElement("div",null,s.a.createElement(se,{title:"Specializations"}),s.a.createElement("div",{className:"mainTagsPage"},s.a.createElement("div",{className:"mainContainer"},s.a.createElement("h1",null,"Select Your Specializations"),s.a.createElement("div",{className:"tagListBox"},this.state.isLoading?s.a.createElement("div",null,s.a.createElement(E.a,{loading:!0,name:"spinner"})," loading"):Object.keys(e).map((function(e,a){return s.a.createElement(he,{user_tags:t,tag:e})}))),s.a.createElement("div",{className:"doneButtons"},s.a.createElement("button",{onClick:this.resetTags,className:"resetButton"},"Clear Specializations"),s.a.createElement(ne.b,{to:"/settings"},s.a.createElement("button",{className:"completeButton"},"Back To Settings")))),s.a.createElement("div",{className:"endText"},s.a.createElement("p1",null,"\xa9 All Rights Reserved. KIWI by Symps."))))}}]),a}(s.a.Component),fe=(a(435),a(142),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.tags;return void 0===e&&(e=[]),s.a.createElement("div",{className:"tag-display"},e.map((function(e,t){return s.a.createElement(x.a,{key:t,color:"purple",size:"big"},e)})))}}]),a}(s.a.Component)),ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={firstPoster:n.props.firstPoster,postID:n.props.postID,name:n.props.name,title:n.props.title,tags:n.props.tags,datetime:n.props.datetime,karma:n.props.karma,content:n.props.content,isFollowing:!1},S()({method:"post",url:"http://localhost:9000/posts/isFollowing",data:{post_id:n.state.postID}}).then((function(e){n.setState({isFollowing:e.data.isFollowing})})),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"original-post"},s.a.createElement("div",{className:"header"},s.a.createElement("h1",{className:"title",style:{color:"black"}},this.state.title)),s.a.createElement("div",{className:"postInfo"},s.a.createElement("div",null,s.a.createElement("h2",{className:"postID"},"ID: "+this.state.postID)),s.a.createElement("div",{className:"postBy"},s.a.createElement("h2",null,"Posted by: "+this.state.name)),this.state.firstPoster?null:this.state.isFollowing?s.a.createElement("span",null,s.a.createElement("button",{className:"button",onClick:function(){S()({method:"post",url:"http://localhost:9000/posts/unfollow",data:{post_id:e.state.postID}}).then((function(t){e.setState({isFollowing:!1})}))}},"Unfollow Post")):s.a.createElement("span",null,s.a.createElement("button",{className:"button",onClick:function(){S()({method:"post",url:"http://localhost:9000/posts/follow",data:{post_id:e.state.postID}}).then((function(t){e.setState({isFollowing:!0})}))}},"Follow Post"))),s.a.createElement("div",{className:"content"},s.a.createElement("p",{className:"text-content"},this.state.content)),s.a.createElement("div",{className:"bottom-section"},s.a.createElement("div",{className:"datetime"},s.a.createElement("h1",{className:"karma"},this.props.hasEndorsed?s.a.createElement("button",{className:"button",onClick:function(){e.props.scrollEndorsed()}},"View Endorsed"):null),s.a.createElement("h3",{className:"createdDate"},"Created on: "+this.state.datetime)),s.a.createElement("div",{className:"tagList"},s.a.createElement(fe,{tags:this.state.tags}))))}}]),a}(s.a.Component),Ee=Object(l.f)(ve),be=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).upvoteSwitch=function(){!0===n.state.userUpvoted?S()({method:"post",url:"http://localhost:9000/response/UndoUpvote",data:{response_id:n.state.responseID},withCredentials:!0}).then((function(e){e.data.success?n.setState({userUpvoted:!1,karma:n.state.karma-1}):alert("Removing upvote was not processed. Try again.")})).catch((function(e){console.log(e)})):S()({method:"post",url:"http://localhost:9000/response/UpvoteResponse",data:{response_id:n.state.responseID},withCredentials:!0}).then((function(e){e.data.success?n.setState({userUpvoted:!0,karma:n.state.karma+1}):alert("Upvote was not processed. Try again.")})).catch((function(e){console.log(e)}))},n.endorseSwitch=function(){!0===n.state.endorsed?S()({method:"post",url:"http://localhost:9000/response/undoEndorse",data:{response_id:n.state.responseID},withCredentials:!0}).then((function(e){e.data.success?(n.props.postUnendorse(),n.setState({endorsed:!1})):alert("Removing endorsement was not processed. Try again.")})).catch((function(e){console.log(e)})):null!==n.props.isPostEndorsed?alert("This post already has an endorsement. Please remove the other endorsement if you wish to endorse this instead."):S()({method:"post",url:"http://localhost:9000/response/EndorseResponse",data:{response_id:n.state.responseID},withCredentials:!0}).then((function(e){e.data.success?(n.props.postEndorse(n.state.responseID),n.setState({endorsed:!0})):alert("Endorsement was not processed. Try again.")})).catch((function(e){console.log(e)}))},n.state={firstPoster:n.props.firstPoster,name:n.props.name,datetime:n.props.datetime,karma:n.props.karma,content:n.props.content,endorsed:n.props.endorsed,userUpvoted:n.props.userUpvoted,responseID:n.props.responseID},n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"response-post",ref:this.props.myRef},s.a.createElement("div",{className:"leftSide"},s.a.createElement("div",{className:"rPoster"},s.a.createElement("h2",{className:"responder"},this.state.name+": ")),s.a.createElement("div",{className:"rDate"},s.a.createElement("h3",null,"Created on: ","\n",this.state.datetime))),s.a.createElement("div",{className:"middleContent"},s.a.createElement("div",{className:"rContent"},s.a.createElement("p",{className:"text-content"},this.state.content))),s.a.createElement("div",{className:"rightSide"},s.a.createElement("div",{className:"rStar"},this.state.endorsed?s.a.createElement(E.a,{name:"star",color:"yellow",size:"big"}):s.a.createElement("div",null)),this.state.firstPoster?s.a.createElement("div",null,s.a.createElement("button",{className:"button",onClick:this.endorseSwitch},this.state.endorsed?"Unendorse":"Endorse")):s.a.createElement("div",null),s.a.createElement("div",{className:"rKarma"},s.a.createElement("h1",null,s.a.createElement("button",{className:"button",onClick:this.upvoteSwitch.bind(this)},this.state.userUpvoted?"Remove Upvote":"Upvote"),"   + "+this.state.karma))))}}]),a}(s.a.Component),Ne=Object(l.f)(be),ye=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"Failed to load")}}]),a}(s.a.Component),we=(a(436),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).addResponse=function(t){t.preventDefault();var a=t.target.elements.responseText;S.a.defaults.withCredentials=!0,S()({method:"POST",url:"http://localhost:9000/response/AddResponse",data:{post_id:e.props.postID,content:a.value},withCredentials:!0}).then((function(t){t.data.success?(e.props.responseUpdate(),a.value=""):alert("Response was not created. Try again.")})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.addResponse},s.a.createElement("div",{className:"AddResponse-submission"},s.a.createElement("div",{className:"writingReply"},s.a.createElement("textarea",{name:"responseText",className:"responseText",placeholder:"Write your response here."}),s.a.createElement("div",{className:"postResponse"},s.a.createElement("button",{className:"button"},"Post Response")))))}}]),a}(s.a.Component)),Se=Object(l.f)(we),Oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).responseHTML=function(e,t,a,r){return s.a.createElement(Ne,{key:t,myRef:e.endorsed?n.endorsedRef:null,firstPoster:n.state.createdPost,datetime:e.datetime,content:e.content,karma:e.karma,endorsed:e.endorsed,name:n.getName(e.user_id),isPostEndorsed:a,postEndorse:n.postEndorse.bind(Object(m.a)(n)),postUnendorse:n.postUnendorse.bind(Object(m.a)(n)),responseID:r[t],userUpvoted:e.userUpvoted})},n.getName=function(e){var t="Deleted User";return void 0!==n.state.users&&void 0!==n.state.users[e]&&(t=n.state.users[e].firstName+" "+n.state.users[e].lastName),t},n.upvotedMerge=function(e,t){for(var a in t)e[a].userUpvoted=t[a];return e},n.refreshForNewResponse=function(){n.refreshResponse(n.state.endorsedID)},n.refreshResponse=function(e){n.endorsedRef=s.a.createRef(),S()({method:"get",url:"http://localhost:9000/posts/"+n.props.id.toString()}).then((function(t){var a,s=[],r=[];(a=n.upvotedMerge(t.data.responses,t.data.responseBools))&&(r=Object.values(a),s=Object.keys(a),n.latestResponse=a.length,n.setState({responseText:r,responseIDs:s,responseObjs:r.map((function(t,a){return n.responseHTML(t,a,e,s)}))}))})).catch((function(e){console.log(e),n.setState({failed:!0})}))},n.postEndorse=function(e){n.refreshResponse(e),n.setState({endorsedID:e})},n.postUnendorse=function(){n.refreshResponse(null),n.setState({endorsedID:null})},n.scrollEndorsed=function(){n.endorsedRef.current?(n.endorsedRef.current.scrollIntoView({behavior:"smooth"}),console.log("scrolling to"),console.log(n.endorsedRef),console.log(n.endorsedRef.current.offsetTop)):console.log("nothing to scroll to")},n.latestResponse=0,n.lockResponse=!1,n.endorsedRef=s.a.createRef(),n.state={endorsedID:null,createdPost:!1,loaded:!1,postID:e.id,userID:"",users:{},title:"Post Not Found",tags:[],datetime:"",content:"",OP:"",karma:0,responseObjs:[],responseText:[],responseIDs:[],failed:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/posts/"+this.props.id.toString()}).then((function(t){console.log(t.data);var a,n=[],s=[];(a=e.upvotedMerge(t.data.responses,t.data.responseBools))&&(n=Object.values(a),s=Object.keys(a)),console.log(n),e.setState({createdPost:t.data.createdPost,title:t.data.posts.title,tags:t.data.posts.tag_ids,datetime:t.data.posts.date_time,karma:t.data.posts.karma,responseText:n,responseIDs:s,content:t.data.posts.content,userID:t.data.posts.user_id,loaded:!1,failed:!1})})).then((function(){S()({method:"get",url:"http://localhost:9000/users/allUsers"}).then((function(t){200===t.status&&e.setState({users:t.data})})).then((function(){for(var t=0;t<e.state.responseText.length;++t)if(!0===e.state.responseText[t].endorsed){e.setState({endorsedID:e.state.responseIDs[t]});break}e.latestResponse=e.state.responseText.length,e.setState({responseObjs:e.state.responseText.map((function(t,a){return e.responseHTML(t,a,e.state.endorsedID,e.state.responseIDs)})),OP:e.getName(e.state.userID),loaded:!0})})).catch((function(t){console.log(t),e.setState({failed:!0})})).catch((function(t){console.log(t),e.setState({failed:!0})}))}))}},{key:"render",value:function(){var e=this.state,t=e.createdPost,a=e.postID,n=e.userID,r=e.title,o=e.tags,l=e.datetime,i=e.content,c=e.karma,m=e.responseObjs,u=e.loaded,d=e.failed,p=e.OP;return this.state.loaded?s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement(se,{title:"Post"}),s.a.createElement("div",{className:"posts-container"},s.a.createElement(Ee,{firstPoster:t,postID:a,userID:n,title:r,tags:o,datetime:l,karma:c,content:i,name:p,scrollEndorsed:this.scrollEndorsed.bind(this),hasEndorsed:this.state.endorsedID}),s.a.createElement("a",{className:"content-link",href:"#responseAdding"},s.a.createElement("button",{className:"renderResponse"},"Reply")),m,s.a.createElement("div",{id:"responseAdding"},s.a.createElement(Se,{postID:a,responseUpdate:this.refreshForNewResponse.bind(this)}))))):u||d?s.a.createElement(ye,null):s.a.createElement("div",null," ",s.a.createElement(se,{title:"Post"})," ",s.a.createElement("div",{className:"posts-container"}," Loading... ")," ")}}]),a}(s.a.Component),ke=(a(437),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"post-create"},s.a.createElement("input",{className:"titleBox",name:"title",placeholder:"Post Title"}),s.a.createElement("textarea",{className:"postContent",name:"postContent",placeholder:"Post Content"}),s.a.createElement("div",{className:"publish-section"},s.a.createElement(v.a,{fluid:!0,multiple:!0,selection:!0,clearable:!0,search:!0,scrolling:!0,text:"tags",options:this.props.dropdownOpt,onChange:this.props.dropdownChange,value:this.props.dropdownVal}),s.a.createElement("button",{type:"Publish Post"}," Publish Post ")))}}]),a}(s.a.Component)),_e=Object(l.f)(ke),je=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={tags_selected:[],tags:[]},e.sendPost=function(t){t.preventDefault();var a=t.target.elements,n=a.title,s=a.postContent;S.a.defaults.withCredentials=!0,S()({method:"post",url:"http://localhost:9000/posts/CreatePost",data:{title:n.value,tag_ids:e.state.tags_selected,content:s.value},withCredentials:!0}).then((function(t){t.data.success?e.props.history.replace("/"):alert("Post was not created. Try again.")})).catch((function(e){console.log(e)}))},e.getTags=function(t,a){var n=a.value;n.length>5?alert("Too many tags selected"):e.setState({tags_selected:n})},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;S()({method:"get",url:"http://localhost:9000/tags/"}).then((function(t){if(t.data.success)for(var a in t.data.tags){var n=t.data.tags[a].key;e.setState({tags:[].concat(Object(f.a)(e.state.tags),[{key:n,text:n,value:n}])})}else console.log("bad")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement(se,{title:"Create New Post"}),s.a.createElement("div",{className:"posts-container"},s.a.createElement("form",{onSubmit:this.sendPost},s.a.createElement(_e,{dropdownOpt:this.state.tags,dropdownChange:this.getTags.bind(this),dropdownVal:this.state.tags_selected})))))}}]),a}(s.a.Component),Pe=Object(l.f)(je);var Ce=Object(l.f)((function(){return s.a.createElement("div",null,s.a.createElement(l.b,{path:"/login",exact:!0,render:function(e){return s.a.createElement($,e)}}),s.a.createElement(l.b,{path:"/signup",exact:!0,render:function(e){return s.a.createElement(H,e)}}),s.a.createElement(ee,{path:"/viewPost/:id",dynamic:!0,component:Oe}),s.a.createElement(l.b,{path:"/signup/:id",exact:!0,render:function(e){return s.a.createElement(H,e)}}),s.a.createElement(ee,{exact:!0,path:"/",component:F}),s.a.createElement(ee,{exact:!0,path:"/createPost",component:Pe}),s.a.createElement(l.b,{path:"/userTags",exact:!0,render:function(e){return s.a.createElement(ge,e)}}),s.a.createElement(l.b,{path:"/adminsignup",exact:!0,render:function(e){return s.a.createElement(X,e)}}),s.a.createElement(ee,{exact:!0,path:"/settings",component:re}),s.a.createElement(ee,{exact:!0,path:"/adminPage",component:pe}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(Y,null,s.a.createElement(ne.a,null,s.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a.p+"static/media/vectorlogo.42df0b1f.png"},83:function(e,t,a){}},[[249,1,2]]]);
//# sourceMappingURL=main.34170752.chunk.js.map