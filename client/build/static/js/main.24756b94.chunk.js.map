{"version":3,"sources":["images/logo_white.png","images/logo_white_arrow.png","db/index.js","auth/firebase.js","components/Navbar.js","components/DisplayingTags.js","components/PostCards.js","components/HomePosts.js","routes/Home.js","auth/Auth.js","routes/SignUp.js","routes/AdminSignUp.js","routes/Login.js","auth/PrivateRoute.js","components/TitleBar.js","routes/Settings.js","components/DisplayUser.js","components/UserTab.js","components/MetadataTagTab.js","components/MetadataUserTab.js","components/DisplayTag.js","components/TagTab.js","routes/AdminPage.js","components/SpecializationButton.js","routes/UserTags.js","components/DisplayingTagsPost.js","components/OriginalPoster.js","components/Response.js","components/Failure.js","components/AddResponse.js","routes/ViewPost.js","components/PostCreate.js","routes/CreatePost.js","App.js","serviceWorker.js","index.js","css/vectorlogo.png"],"names":["module","exports","require","config","algoliasearch","process","searchClient","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Navbar","props","handleSignOut","firebase","auth","signOut","Cookies","remove","window","localStorage","removeItem","history","push","resetSpecializations","setState","got_specializations","default_tags","axios","method","url","withCredentials","then","response","string_tags","JSON","stringify","data","tags_array","parse","key","hasOwnProperty","state","setItem","updateForumDisp","catch","error","console","log","handleChange","e","value","tags","setTextSearch","event","target","length","searching","resetTextSearch","forum_tags","success","x","text","undefined","getItem","defaults","this","className","onClick","src","logo","height","alt","SearchBox","searchAsYouType","onChange","translations","placeholder","Dropdown","fluid","multiple","selection","scrolling","search","loading","defaultValue","options","clearable","bind","Icon","link","name","size","color","inverted","React","Component","withRouter","DisplayingTags","map","item","i","Label","tStyle","fontSize","dStyle","PostCards","pathname","post_id","toString","handleClick","style","title","tag_ids","date_time","HomePosts","setTextSearchState","textSearch","resetTextSearchState","posts","users","updated","company","forumEmpty","updateTagSearch","status","keyList","forEach","post","tag","includes","searchTags","visible","InstantSearch","indexName","PostContainer","Results","Hits","hitComponent","hit","TextSearchPosts","TagSearchPosts","getName","userid","firstName","lastName","RedirectButton","user_id","karma","content","responses","objectID","connectStateResults","searchState","searchResults","children","nbHits","query","Home","AuthContext","createContext","UpdateContext","cookie","AuthProvider","useState","currentUser","setCurrentUser","isLoaded","setLoaded","updateAuth","result","useEffect","addChangeListener","Provider","SignUp","isLoading","handleSignUp","preventDefault","elements","first_name","last_name","email","password","registration_ID","match","params","id","signInWithEmailAndPassword","getIdToken","idToken","set","path","setTimeout","alert","redirectLogin","redirectSpecializations","uuid","pic","onSubmit","type","AdminSignUp","passwordcopy","Login","update","useContext","PrivateRoute","RouteComponent","component","isDynamic","dynamic","rest","render","routeProps","to","TitleBar","Settings","handleResetPassword","confirmPassword","confirm","newPassword","user_email","admin","userEmail","Segment","basic","textAlign","paddingLeft","Divider","horizontal","redirectAdmin","DisplayUser","removed","checkemail","userID","fitted","UserTab","loading_user","userList","Object","keys","Tab","Pane","reset","MetadataTagTab","tagList","MetadataUserTab","DisplayTag","tag_id","tagName","TagTab","loading_tag","currTag","tagname","AdminPage","panes","menuItem","SpecializationButton","addSpecialization","thisTag","user_info","newJSON","removeSpecialization","user_tags","tagButton","checkSpecialization","UserTags","resetTags","location","reload","info","DisplayingTagsPost","OriginalPoster","firstPoster","postID","datetime","isFollowing","hasEndorsed","scrollEndorsed","Response","upvoteSwitch","userUpvoted","response_id","responseID","endorseSwitch","endorsed","postUnendorse","isPostEndorsed","postEndorse","ref","myRef","Failure","AddResponse","addResponse","responseText","responseUpdate","ViewPost","responseHTML","obj","index","postEndorsed","responseIDs","endorsedRef","createdPost","upvotedMerge","arr1","arr2","refreshForNewResponse","refreshResponse","endorsedID","createRef","results","responseBools","values","latestResponse","responseObjs","failed","current","scrollIntoView","behavior","offsetTop","lockResponse","loaded","OP","href","PostCreate","maxlength","dropdownOpt","dropdownChange","dropdownVal","CreatePost","tags_selected","sendPost","postContent","replace","getTags","exact","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.24756b94.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_white.b50a6676.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_white_arrow.c1a70ef7.png\";","import algoliasearch from 'algoliasearch';\r\nrequire('dotenv').config();\r\n\r\nconst client = algoliasearch(process.env.REACT_APP_ALGOLIA_APP_ID, process.env.REACT_APP_ALGOLIA_API_KEY);\r\n\r\nconst searchClient = algoliasearch(\r\n   process.env.REACT_APP_ALGOLIA_APP_ID,\r\n   process.env.REACT_APP_ALGOLIA_SEARCH_API_KEY\r\n);\r\n\r\nexport { client, searchClient };\r\n\r\n","require('dotenv').config();\r\nvar firebase = require('firebase');\r\n\r\nconst db = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MEASUREMENT_ID,\r\n    appId: process.env.REACT_APP_ID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n});\r\n\r\nexport default db;\r\n","import React from 'react';\r\nimport {Dropdown, Icon} from 'semantic-ui-react';\r\nimport logo from '../images/logo_white.png';\r\nimport '../css/index.css'\r\nimport {\r\n    SearchBox\r\n} from 'react-instantsearch-dom';\r\nimport axios from 'axios';\r\nimport firebase from '../auth/firebase';\r\nimport Cookies from 'universal-cookie';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../css/Navbar.css'\r\n\r\n\r\nconst tags = [\r\n    {\r\n        key: 'Machine Learning',\r\n        text: 'Machine Learning',\r\n        value: 'Machine Learning'\r\n    },\r\n    {\r\n        key: 'Python',\r\n        text: 'Python',\r\n        value: 'Python'\r\n    },\r\n    {\r\n        key: 'help-needed',\r\n        text: 'help-needed',\r\n        value: 'help-needed'\r\n    },\r\n    {\r\n        key: 'announcement',\r\n        text: 'announcement',\r\n        value: 'announcement'\r\n    },\r\n    {\r\n        key: 'events',\r\n        text: 'events',\r\n        value: 'events'\r\n    },\r\n    {\r\n        key: 'lost and found',\r\n        text: 'lost and found',\r\n        value: 'lost and found'\r\n    },\r\n    {\r\n        key: 'C++',\r\n        text: 'C++',\r\n        value: 'C++'\r\n    },\r\n    {\r\n        key: 'React',\r\n        text: 'React',\r\n        value: 'React'\r\n    }\r\n]\r\n\r\n\r\nclass Navbar extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tags: [],\r\n            forum_tags: [],\r\n            default_tags: [],\r\n            value: '',\r\n            searching: false,\r\n            got_specializations: false\r\n        }\r\n\r\n    }\r\n\r\n    handleSignOut = () => {\r\n        firebase.auth().signOut();\r\n\r\n        // removing cookie\r\n        const cookies = new Cookies();\r\n        cookies.remove('auth');\r\n\r\n        window.localStorage.removeItem('current_tags');\r\n        window.localStorage.removeItem('original_tags');\r\n\r\n        // redirect to home page\r\n        this.props.history.push(\"/login\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/tags/getTags',\r\n        })\r\n            .then((response) => {\r\n                if (response.data.success) {\r\n                    for (var key in response.data.tags) {\r\n                        var x = key;\r\n                        this.setState({ forum_tags: [...this.state.forum_tags, { key: x, text: x, value: x }] });\r\n                    }\r\n\r\n                    if (localStorage.getItem('current_tags') == undefined) {\r\n                        axios.defaults.withCredentials = true;\r\n                        axios({\r\n                            method: 'GET',\r\n                            url: 'https://kiwi-test-app.herokuapp.com/users/userTags',\r\n                            withCredentials: true\r\n                        })\r\n\r\n                            .then((response) => {\r\n                                var string_tags = JSON.stringify(response.data);\r\n                                var tags_array = JSON.parse(string_tags);\r\n\r\n                                for (var key in tags_array) {\r\n                                    if (tags_array.hasOwnProperty(key)) {\r\n                                        this.setState({ default_tags: [...this.state.default_tags, tags_array[key]] });\r\n                                    }\r\n                                }\r\n                                window.localStorage.setItem('current_tags', string_tags);\r\n                                window.localStorage.setItem('original_tags', string_tags);\r\n                                console.log(window.localStorage.getItem(\r\n                                   'original_tags'\r\n                                ));\r\n                                \r\n\r\n                                this.props.updateForumDisp(this.state.default_tags);\r\n                                this.setState({ got_specializations: true });\r\n                                // Store the tags in local storage\r\n                            })\r\n                            .catch((error) => {\r\n\r\n                                console.log(error);\r\n\r\n                            });\r\n\r\n                    } else {\r\n                        var string_tags = window.localStorage.getItem('current_tags');\r\n                        console.log(string_tags);\r\n                        var tags_array = JSON.parse(string_tags);\r\n\r\n                        for (var key in tags_array) {\r\n                            if (tags_array.hasOwnProperty(key)) {\r\n                                this.setState({ default_tags: [...this.state.default_tags, tags_array[key]] });\r\n                            }\r\n                        }\r\n\r\n                        this.props.updateForumDisp(this.state.default_tags);\r\n\r\n                        this.setState({ got_specializations: true });\r\n                    }\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    resetSpecializations = () => {\r\n        this.setState({ got_specializations: false, default_tags: [] });\r\n        axios({\r\n            method: 'GET',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/userTags',\r\n            withCredentials: true\r\n        })\r\n\r\n            .then((response) => {\r\n                var string_tags = JSON.stringify(response.data);\r\n                var tags_array = JSON.parse(string_tags);\r\n\r\n                for (var key in tags_array) {\r\n                    if (tags_array.hasOwnProperty(key)) {\r\n                        this.setState({ default_tags: [...this.state.default_tags, tags_array[key]] });\r\n                    }\r\n                }\r\n                window.localStorage.setItem('current_tags', string_tags);\r\n                window.localStorage.setItem('original_tags', string_tags);\r\n                \r\n\r\n                this.props.updateForumDisp(this.state.default_tags);\r\n                this.setState({ got_specializations: true });\r\n                // Store the tags in local storage\r\n            })\r\n            .catch((error) => {\r\n\r\n                console.log(error);\r\n\r\n            });\r\n\r\n    }\r\n\r\n\r\n    //called when the tag dropdown changes\r\n    handleChange = (e, { value }) => {\r\n        this.setState({ tags: value });\r\n        this.props.updateForumDisp(value);\r\n\r\n        window.localStorage.setItem('current_tags', JSON.stringify(value));\r\n    }\r\n\r\n    //called when the search box changes\r\n    setTextSearch = (event => {\r\n        this.setState({ value: event.target.value }, () => {\r\n            if (this.state.value.length === 0) {\r\n                this.setState({ searching: false });\r\n                this.props.resetTextSearch();\r\n\r\n            } else if (!this.state.searching) {\r\n                this.setState({ searching: true });\r\n                this.props.setTextSearch();\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n\r\n    render() {\r\n        if (!this.state.got_specializations) {\r\n            return <h1> loading navbar... </h1>\r\n        }\r\n        return (\r\n            <div className=\"navbar_block\">\r\n                <div className={\"kiwiLogo\"}>\r\n                    <button className={\"invisibleButton\"} onClick={() => { this.props.history.push(\"/\") }}>\r\n                        <img src={logo} height={'40px'} alt={\"KIWI\"} />\r\n                    </button>\r\n                </div>\r\n                <div className={\"searchBar\"}>\r\n                    <SearchBox className={\"searching\"} searchAsYouType={true}\r\n                        onChange={this.setTextSearch}\r\n                        translations={{\r\n                            placeholder: \"What's your question?\",\r\n                        }} />\r\n                </div>\r\n                <div className={\"tagComponent\"}>\r\n                    <Dropdown fluid multiple selection scrolling search placeholder='Tags'\r\n                        onChange={this.handleChange}\r\n                        loading={(!this.state.got_specializations) ? true : false}\r\n                        defaultValue={this.state.default_tags}\r\n                        options={[...this.state.forum_tags]} clearable />\r\n                </div>\r\n                <div className={\"reset\"}>\r\n                    <button className={\"invisibleButton\"} onClick={this.resetSpecializations.bind(this)}>reset specializations</button>\r\n                </div>\r\n                <div className={\"settings\"}>\r\n                    <button className={\"invisibleButton\"} onClick={() => {this.props.history.push(\"/settings\")}}>\r\n                    <Icon link name=\"settings\" size={\"big\"} color='grey' inverted />\r\n                    </button>\r\n                </div>\r\n                <div className={\"logoutButton\"}>\r\n                    <button className={\"invisibleButton\"} onClick={this.handleSignOut}><Icon link name=\"sign out\" size={\"big\"} color='grey' inverted /></button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Navbar);\r\n","import React from 'react';\r\nimport \"../css/DisplayingTags.css\";\r\nimport {Label} from \"semantic-ui-react\";\r\n\r\n\r\nclass DisplayingTags extends React.Component {\r\n    render() {\r\n        let {tags} = this.props;\r\n        if(tags === undefined){\r\n            tags = [];\r\n        }\r\n        return(\r\n            <div className=\"tag-display\">\r\n                {tags.map((item, i) => \r\n                    <Label key={i} color='purple'> \r\n                        {item}\r\n                    </Label>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DisplayingTags;","import React from 'react';\r\nimport \"../css/PostCards.css\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport DisplayingTags from \"./DisplayingTags\";\r\n\r\nconst tStyle = {\r\n    fontSize: '1.5vw',\r\n};\r\n\r\nconst dStyle = {\r\n    fontSize: '1vw',\r\n};\r\n\r\nclass PostCards extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    handleClick() {\r\n        const {history} = this.props;\r\n        history.push({      //change to replace and add back button\r\n            pathname: '/viewPost/' + this.props.post_id.toString(),\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={this.handleClick.bind(this)} className=\"post-cards\">\r\n                <div className={\"PostTitle\"}>\r\n                    <h1 style={tStyle}> {this.props.title} </h1>\r\n                </div>\r\n                <div className={\"Poster\"}>\r\n                    <h3 style={dStyle}> {\"Created by: \" + this.props.name} </h3>\r\n                </div>\r\n                <div className=\"PostTags\">\r\n                    <DisplayingTags tags={this.props.tag_ids}/>\r\n                </div>\r\n                <div className={\"PostDate\"}>\r\n                    <h3 style={dStyle}> {\"Date Created: \" + this.props.date_time} </h3>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(PostCards);","import { searchClient } from '../db/index';\r\nimport React from 'react';\r\nimport '../css/index.css'\r\nimport '../css/HomePosts.css'\r\nimport Navbar from './Navbar';\r\nimport {\r\n    InstantSearch,\r\n    Hits,\r\n    connectStateResults\r\n} from 'react-instantsearch-dom';\r\nimport PostCards from './PostCards';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass HomePosts extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            posts: [],\r\n            users: {},\r\n            textSearch: false,\r\n            updated: false,\r\n            company: \"empty\",\r\n            forumEmpty: false\r\n        };\r\n\r\n        this.updateTagSearch = this.updateTagSearch.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/company',\r\n        })\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    this.setState({ company: response.data })\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/allUsers',\r\n        })\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    this.setState({ users: response.data });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/posts/',\r\n        })\r\n        .then((response) => { \r\n            if (response.data.success) { \r\n                this.setState({posts: response.data.posts});\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        }).then(() => {\r\n            if(this.state.posts === undefined || this.state.posts.length==0){\r\n                this.setState({forumEmpty: true});\r\n            }\r\n            else {\r\n                this.setState({forumEmpty: false});\r\n            }\r\n        })\r\n    }\r\n\r\n    //searching through posts state\r\n    searchTags(value, keyList) {\r\n        return this.state.posts.forEach(post => {\r\n            if (post.tag_ids !== undefined) {\r\n                post.tag_ids.forEach(tag => {\r\n                    if (value.includes(tag)) {\r\n                        keyList.push(post.key);\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    //updates and queries every time tag is removed or added\r\n    updateTagSearch(value) {\r\n        let keyList = []\r\n        this.searchTags(value, keyList);\r\n        if (this.state.posts) {\r\n            this.setState(state => {\r\n                state.posts.forEach(\r\n                    post => {\r\n                        if (value.length === 0) {\r\n                            post.visible = true;\r\n                        }\r\n                        else if (keyList.includes(post.key)) {\r\n                            post.visible = true;\r\n                            //console.log(post);\r\n                        }\r\n                        else\r\n                            post.visible = false;\r\n                    }\r\n                )\r\n            }\r\n            )\r\n            this.setState({ updated: !this.state.updated });\r\n        }\r\n\r\n    }\r\n\r\n    setTextSearchState = () => {\r\n        this.setState({\r\n            textSearch: true\r\n        });\r\n    }\r\n\r\n    resetTextSearchState = () => {\r\n        this.setState({\r\n            textSearch: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <InstantSearch indexName={this.state.company} searchClient={searchClient}>\r\n                    <Navbar updateForumDisp={this.updateTagSearch} setTextSearch={this.setTextSearchState}\r\n                        resetTextSearch={this.resetTextSearchState} />\r\n                    <PostContainer posts={this.state.posts} users={this.state.users} \r\n                        forumEmpty={this.state.forumEmpty} textSearch={this.state.textSearch} />\r\n                </InstantSearch>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//component for the post container\r\nfunction PostContainer(props) {\r\n    if (props.textSearch) {\r\n        return (\r\n            <Results props={props}>\r\n                <Hits className=\"posts-container\" hitComponent={({ hit }) => <TextSearchPosts hit={hit} users={props.users} />} />\r\n            </Results>);\r\n    }\r\n    else {\r\n        return <TagSearchPosts posts={props.posts} users={props.users} forumEmpty={props.forumEmpty}/>;\r\n    }\r\n}\r\n\r\n//component for tag searching\r\nfunction TagSearchPosts(props) {\r\n    const getName = (userid) => {\r\n        let name = \"Deleted User\";\r\n        if (props.users !== undefined && props.users[userid] !== undefined) {\r\n            name = props.users[userid].firstName + \" \" + props.users[userid].lastName;\r\n\r\n        }\r\n        return name;\r\n    }\r\n    if(props.forumEmpty){\r\n        return <div className=\"posts-container\">\r\n            <div className=\"no-results-msg\">\r\n            <p>Welcome to the company's KIWI forum! Please start by creating a post.</p>\r\n            <RedirectButton props={props}/>\r\n            </div>\r\n        </div>\r\n    }\r\n    else { \r\n        return (\r\n            <div className=\"posts-container\">\r\n                {props.posts.map((item, i) => {\r\n                    if (item.visible)\r\n                        return <PostCards key={i} post_id={item.key} user_id={item.user_id} title={item.title}\r\n                            tag_ids={item.tag_ids} date_time={item.date_time} karma={item.karma}\r\n                            content={item.content} responses={item.responses} name={getName(item.user_id)} />\r\n\r\n                    else return <div key={i}></div>;\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//component for text searching\r\nfunction TextSearchPosts({ hit, users }) {\r\n    const getName = (userid) => {\r\n        let name = \"no_user\";\r\n        if (users !== undefined && users[userid] !== undefined) {\r\n            name = users[userid].firstName + \" \" + users[userid].lastName;\r\n\r\n        }\r\n        return name;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostCards post_id={hit.objectID} user_id={hit.user_id} title={hit.title}\r\n                tag_ids={hit.tag_ids} date_time={hit.date_time} karma={hit.karma}\r\n                content={hit.content} responses={hit.responses} name={getName(hit.user_id)} />\r\n        </div >\r\n    );\r\n}\r\n\r\nconst RedirectButton = withRouter((props) => {\r\n    const redirect = () => {\r\n        props.history.push('/createPost');\r\n    }\r\n    return <button className=\"create-post-button\" onClick={redirect}>Create Post</button>\r\n})\r\n\r\n//component is displayed then there are no results from algolia\r\nconst Results = connectStateResults(\r\n    ({ searchState, searchResults, children }, props) =>\r\n        searchResults && searchResults.nbHits !== 0 ? (\r\n            children) : (\r\n                <div className=\"posts-container\">\r\n                    <div className=\"no-results-msg\"><p>No results have been found for \"{searchState.query}\"</p> <br />\r\n                        <RedirectButton props={props} />\r\n                    </div>\r\n                </div>)\r\n);\r\n\r\nexport default HomePosts;\r\n","import React, { useContext } from 'react';\r\nimport '../css/App.css';\r\nimport HomePosts from '../components/HomePosts'\r\n\r\n// Sorry we don't have a home for this function yet.\r\n/*\r\nasync function sendEmail(targetEmail, targetContent) {\r\n\tlet API_URL = \"https://kiwi-test-app.herokuapp.com\";\r\n\tlet EMAIL_ROUTE = \"/inviteUser\";\r\n\tconsole.log(targetEmail)\r\n\tconsole.log(targetContent)\r\n\tconst bodyContent = {\r\n\t\t\"email\": targetEmail,\r\n\t\t\"content\": targetContent,\r\n\t}\r\n\tconsole.log(bodyContent)\r\n\tconsole.log(JSON.stringify(bodyContent))\r\n    const response = await fetch(API_URL + EMAIL_ROUTE, {\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  Accept: 'application/json',\r\n\t  'Content-Type': 'application/json',\r\n\t},\r\n\tbody: JSON.stringify(bodyContent)\r\n  });\r\n  console.log(response)\r\n}\r\n*/\r\n\r\n\r\nconst Home = ({ history }) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"app\">\r\n\t\t\t<HomePosts />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;","import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst AuthContext = React.createContext();\r\nconst UpdateContext = React.createContext();\r\nconst cookie = new Cookies();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState(false);\r\n    const [isLoaded, setLoaded] = useState(false);\r\n    axios.defaults.withCredentials = true;\r\n\r\n    let updateAuth = function () {\r\n        return axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/auth/checkIfSignedIn',\r\n            withCredentials: true\r\n        }).then((result) => {\r\n            if (result.data.success) {\r\n                setCurrentUser(true);\r\n            } else {\r\n                setCurrentUser(false);\r\n            }\r\n        }).catch((error) => {\r\n            console.log(error);\r\n            setCurrentUser(false);\r\n        }).then(() => {\r\n            setLoaded(true);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateAuth();\r\n        cookie.addChangeListener((name, value, options) => {\r\n            if (name === 'auth' && value != null && options != null) {\r\n                updateAuth();\r\n            }\r\n        })\r\n    }, []);\r\n\r\n    if (!isLoaded) {\r\n        return <h1>Loading...</h1>\r\n    }\r\n\r\n    return (\r\n        <UpdateContext.Provider value={updateAuth}>\r\n            <AuthContext.Provider value={{ currentUser }}>\r\n                {children}\r\n            </AuthContext.Provider>\r\n        </UpdateContext.Provider>\r\n    )\r\n\r\n}\r\n\r\nexport { AuthContext, AuthProvider, UpdateContext }\r\n","import React, { useCallBack, useContext } from \"react\";\r\nimport \"../css/signup.css\";\r\nimport axios from 'axios';\r\nimport pic from '../css/vectorlogo.png';\r\nimport Cookies from 'universal-cookie';\r\nimport db from '../auth/firebase';\r\nimport { AuthContext } from \"../auth/Auth\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\n\r\nclass SignUp extends React.Component {\r\n\tstate = {\r\n\t\tisLoading: true,\r\n\t}\r\n\r\n\thandleSignUp = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst {first_name, last_name, email, password} = event.target.elements;\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: 'https://kiwi-test-app.herokuapp.com/auth/EmployeeSignUp',\r\n\t\t\tdata: {\r\n\t\t\t\tfirst_name: first_name.value,\r\n\t\t\t\tlast_name: last_name.value,\r\n\t\t\t\temail: email.value,\r\n\t\t\t\tpassword: password.value,\r\n\t\t\t\tregistration_ID: this.props.match.params.id\r\n\t\t\t}\r\n\t\t}).then((response) => {\r\n\t\t\tif (response.data.success) {\r\n\t\t\t\tdb.auth().signInWithEmailAndPassword(email.value, password.value).then(() => {\r\n\t\t\t\t\tconsole.log(\"Entered sign in\");\r\n\t\t\t\t\t// create token for user\r\n\t\t\t\t\tdb.auth().currentUser.getIdToken(true).then((idToken) => {\r\n\t\t\t\t\t\t// store token into cookie \r\n\t\t\t\t\t\tconst cookies = new Cookies();\r\n\t\t\t\t\t\tcookies.set('auth', idToken, {path: '/'});\r\n\t\t\t\t\t\tconsole.log(\"Entered create token\");\r\n\t\t\t\t\t\t// redirect to home page\r\n\t\t\t\t\t\tsetTimeout(()=>{this.props.history.push(\"/\")}, 3000);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => console.log(error));\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// update gui to show error in signing up\r\n\t\t\t\talert(\"error in sign up, most likely the email is already being used.\");\r\n\t\t\t}\r\n\t\t}).catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\r\n\tredirectLogin = () => {\r\n\t\tthis.props.history.push(\"/login\");\r\n\t};\r\n\r\n\tredirectSpecializations = () => {\r\n\t\tthis.props.history.push(\"/\");\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// check to see if data is valid \r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: 'https://kiwi-test-app.herokuapp.com/inviteUser/validateID',\r\n\t\t\tdata: {\r\n\t\t\t\tuuid: this.props.match.params.id\r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .then((response) => {\r\n\t\t\tif (response.data.success) {\r\n\t\t\t\tthis.setState({isLoading: false});\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Invalid RegistrationID\");\r\n\t\t\t\tthis.props.history.push(\"/login\");\r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t  });\r\n\t}\r\n\trender() {\r\n\t\tif (this.state.isLoading) {\r\n\t\t\treturn <h1> Loading... </h1>\r\n\t\t}\r\n\r\n        return (\r\n            <div className=\"signup\">\r\n                <div className=\"signupRow\">\r\n                    <div className=\"left\">\r\n                        <div className=\"picture\">\r\n                            <img className=\"picture\" src={pic} />\r\n                        </div>\r\n                        <div className=\"leftText\">\r\n                            <p1>Our company will ensure the success and coordination of all co-workers.\r\n                            Each company has their own unique tags. Where each employee can also be uniquely\r\n                            identified <br /> <br />Please Signup on the right in order to get started <br /> <br />\r\n                                <br /> <br /> Thank you for choosing KIWI.\r\n                        </p1>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <div className=\"right\">\r\n                        <div className=\"rightTitle\">\r\n                            <h1>Sign Up</h1>\r\n                        </div>\r\n    \r\n                        <form onSubmit={this.handleSignUp.bind(this)}>\r\n                            <div>\r\n                                <input className=\"inputBox\" name=\"first_name\" type=\"first_name\" placeholder=\"  First Name\" />\r\n                            </div>\r\n                            <div>\r\n                                <input className=\"inputBox\" name=\"last_name\" type=\"last_name\" placeholder=\"  Last Name\" />\r\n                            </div>\r\n                            <div>\r\n                                <input className=\"inputBox\" name=\"email\" type=\"email\" placeholder=\"  Email\" />\r\n                            </div>\r\n                            <div>\r\n                                <input className=\"inputBox\" name=\"password\" type=\"password\" placeholder=\"  Password\" />\r\n                            </div>\r\n                            <div>\r\n                                <input className=\"inputBox\" name=\"password2\" type=\"password\" placeholder=\"  Re-Enter Password\" />\r\n                            </div>\r\n                            <div className=\"inputBox\">\r\n                                <button className=\"button12\" type=\"submit\">Sign Up</button>\r\n                                <button className=\"button22\" onClick={this.redirectLogin.bind(this)}> Back to Login</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"endText\">\r\n                    <p1>\r\n                         All Rights Reserved. KIWI by Symps.\r\n                </p1>\r\n                </div>\r\n            </div >\r\n        );\r\n\t}\r\n\r\n};\r\n\r\nexport default SignUp;","import React, { useCallBack } from \"react\";\r\nimport \"../css/adminsignup.css\";\r\nimport axios from 'axios';\r\nimport pic from '../css/vectorlogo.png';\r\n\r\n\r\nconst AdminSignUp = ({ history }) => {\r\n\r\n    const handleSignUp = (event) => {\r\n        event.preventDefault();\r\n        const { company, first_name, last_name, email, password, passwordcopy } = event.target.elements;\r\n\r\n        if(password.value != passwordcopy.value) {\r\n            alert('Please make sure the passwords match.');\r\n            return;\r\n        }\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'https://kiwi-test-app.herokuapp.com/auth/AdminSignUp',\r\n            data: {\r\n                company: company.value,\r\n                first_name: first_name.value,\r\n                last_name: last_name.value,\r\n                email: email.value,\r\n                password: password.value,\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.success) {\r\n                alert(\"Company Forum successfully made! Welcome to KIWI.\")\r\n                redirectLogin();\r\n            } else {\r\n                // update gui to show error in signing up\r\n                console.log(\"error in sign up, most likely account has already been made\");\r\n                alert(\"Invalid company/email/password. Company or email may already be in use and password must be at least 6 characters.\");\r\n            }\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    const redirectLogin = () => {\r\n        history.push(\"/login\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"signup\">\r\n            <div className=\"signupRow\">\r\n                <div className=\"left\">\r\n                    <div className=\"picture\">\r\n                        <img className=\"picture\" src={pic} />\r\n                    </div>\r\n                    <div className=\"leftText\">\r\n                        <p1>Our company will ensure the success and coordination of all co-workers.\r\n                        Each company has their own unique tags. Where each employee can also be uniquely\r\n                        identified <br /> <br />Please Signup on the right in order to get started <br /> <br />\r\n                            <br /> <br /> Thank you for choosing KIWI.\r\n                    </p1>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"right\">\r\n                    <div className=\"rightTitle\">\r\n                        <h1>Admin Sign Up</h1>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSignUp}>\r\n                        <div>\r\n                            <input className=\"inputBox\" name=\"company\" type=\"company\" placeholder=\"  Company\" />\r\n                        </div>\r\n                        <div>\r\n                            <input className=\"inputBox\" name=\"first_name\" type=\"first_name\" placeholder=\"  First Name\" />\r\n                        </div>\r\n                        <div>\r\n                            <input className=\"inputBox\" name=\"last_name\" type=\"last_name\" placeholder=\"  Last Name\" />\r\n                        </div>\r\n                        <div>\r\n                            <input className=\"inputBox\" name=\"email\" type=\"email\" placeholder=\"  Email\" />\r\n                        </div>\r\n                        <div>\r\n                            <input className=\"inputBox\" name=\"password\" type=\"password\" placeholder=\"  Password\" />\r\n                        </div>\r\n                        <div>\r\n                            <input className=\"inputBox\" name=\"passwordcopy\" type=\"password\" placeholder=\"  Re-Enter Password\" />\r\n                        </div>\r\n                        <div className=\"inputBox\">\r\n                            <button className=\"button12\" type=\"submit\">Sign Up</button>\r\n                            <button className=\"button22\" onClick={redirectLogin}> Back to Login</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"endText\">\r\n                <p1>\r\n                     All Rights Reserved. KIWI by Symps.\r\n            </p1>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default AdminSignUp;","import React, {useContext} from \"react\";\r\nimport '../css/login.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { UpdateContext } from \"../auth/Auth\";\r\nimport db from '../auth/firebase';\r\nimport '../css/App.css';\r\nimport pic from '../css/vectorlogo.png';\r\nimport axios from 'axios';\r\n\r\nconst Login = ({history}) => {\r\n    let update = useContext(UpdateContext);\r\n\r\n    const handleLogin = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst { email, password } = event.target.elements;\r\n\r\n\r\n\t\t// sign in user\r\n\t\tdb.auth().signInWithEmailAndPassword(email.value, password.value).then(() => {\r\n\r\n\t\t\t// create token for user\r\n\t\t\tdb.auth().currentUser.getIdToken(true).then((idToken) => {\r\n\t\t\t\t// store token into cookie \r\n\t\t\t\tconst cookies = new Cookies();\r\n                cookies.set('auth', idToken, {path: '/'});\r\n                console.log(\"okay??\")\r\n                \r\n\t\t\t\t\r\n\t\t\t\t// redirect to home page\r\n\t\t\t\tupdate().then(() => {\r\n                    console.log(\"go!\")\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t\t.catch((error) => console.log(error));\r\n\r\n\t\t}).catch((error) => {\r\n            console.log(error);\r\n            alert('Invalid Credentials');\r\n\t\t});\r\n\t}\r\n\r\n        \r\n    const redirectToAdminSignUp = () => {\r\n        history.push('/adminsignup');\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"login\">\r\n        <div className=\"inside\">\r\n            \r\n            <div className=\"columnx\">\r\n                <img className=\"pic\" src={pic}/>\r\n                <h1 className='font'>Login</h1>\r\n                <form onSubmit={handleLogin}>\r\n                    <div className=\"textField\">\r\n                        <input className=\"textBox\" name=\"email\" type=\"email\" placeholder=\"  Email\" />\r\n                    </div>\r\n                    <div className=\"textField\">\r\n                        <input className=\"textBox\" name=\"password\" type=\"password\" placeholder=\"  Password\" />\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        <button className=\"button1\" type=\"submit\">Log In</button>\r\n                        <button className=\"button2\" type=\"button\" onClick={redirectToAdminSignUp}>Sign Up</button>\r\n                    </div>\r\n                </form>\r\n                \r\n            </div>\r\n        </div>\r\n        <div className=\"endText\">\r\n            <p>\r\n                 All Rights Reserved. KIWI by Symps.\r\n            </p>\r\n        </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React, {useContext} from \"react\";\r\nimport {Route, Redirect} from \"react-router-dom\";\r\nimport { AuthContext } from \"./Auth\"\r\n\r\nconst PrivateRoute = ({component: RouteComponent, dynamic: isDynamic, ...rest}) => {\r\n    const {currentUser} = useContext(AuthContext);\r\n    if (!isDynamic) {\r\n        return (\r\n            <Route\r\n                {...rest}\r\n                render={(routeProps) => (currentUser ? (<RouteComponent {...routeProps} />) : (<Redirect to=\"/login\"/>))\r\n                }\r\n            />\r\n        )\r\n    } else {\r\n        return (\r\n            <Route\r\n            {...rest}\r\n            render={({match}, routeProps) => {\r\n                return (currentUser ? (<RouteComponent {...routeProps} id={match.params.id}  />) : (<Redirect to=\"/login\"/>))\r\n            }}\r\n        />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport logo from '../images/logo_white_arrow.png';\r\nimport firebase from '../auth/firebase';\r\nimport Cookies from 'universal-cookie';\r\nimport '../css/TitleBar.css';\r\n\r\n\r\nclass TitleBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: this.props.title\r\n        }\r\n    }\r\n\r\n    handleSignOut = () => {\r\n        firebase.auth().signOut();\r\n\r\n        // removing cookie\r\n        const cookies = new Cookies();\r\n        cookies.remove('auth');\r\n\r\n        // redirect to home page\r\n        // this.props.history.push(\"/login\");\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"title_block\">\r\n                <div className={\"kiwiLogo\"}>\r\n                    <Link to={\"/\"}>\r\n                        <button className={\"invisibleButton\"}>\r\n                            <img src={logo} height={'40px'} alt={\"KIWI\"} />\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={\"vert-line\"}>\r\n                    <p>|</p>\r\n                </div>\r\n\r\n                <div className={\"title-text\"}>\r\n                    <p>{this.state.title}</p>\r\n                </div>\r\n\r\n                <div className={\"settings\"}>\r\n                    <Link to={'/settings'}>\r\n                        <Icon link name=\"settings\" size={\"big\"} color='grey' inverted />\r\n                    </Link>\r\n                </div>\r\n                <div className={\"logoutButton\"}>\r\n                    <Link to=\"/login\">\r\n                        <button className={\"invisibleButton\"} onClick={this.handleSignOut}><Icon link name=\"sign out\" size={\"big\"} color='grey' inverted /></button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TitleBar;","import React, { useCallBack } from \"react\";\r\nimport { Segment, Divider, Checkbox } from \"semantic-ui-react\";\r\nimport TitleBar from \"../components/TitleBar\"\r\nimport \"../css/settings.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\n\r\nclass Settings extends React.Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user_email: \"\",\r\n            admin: false\r\n        };\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/getUserEmail'\r\n          }).then((response) => {\r\n            this.setState({user_email: response.data.userEmail});\r\n            console.log(response)\r\n        });\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/isUserAdmin'\r\n          }).then((response) => {\r\n              console.log(response);\r\n            this.setState({admin: response.data.admin});\r\n        });\r\n    }\r\n\r\n    handleResetPassword = (event) =>{\r\n            event.preventDefault();\r\n            // should tag_ids be in line below\r\n            const {password, confirmPassword} = event.target.elements;\r\n\r\n            if(password.value != confirmPassword.value) {\r\n                alert('Please Make Sure the Passwords Match');\r\n                return;\r\n            }\r\n\r\n            if(window.confirm(\"Confirm Reset Password?\"))\r\n            {\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/auth/resetPassword',\r\n                    data: { \r\n                        newPassword:  password.value\r\n                    }\r\n                }).then(() => {\r\n                    alert(\"Password Changed\");\r\n                });\r\n            }\r\n    }\r\n\r\n    render(){\r\n        if(this.state.admin){\r\n\r\n            return(\r\n                <div>\r\n                    <TitleBar title=\"Settings\" />\r\n                    <div className = \"setting\">            \r\n                        <div className = \"settingsWrap\">\r\n                            <Segment basic textAlign='center'>\r\n                                <div className = \"settings-item\" style={{paddingLeft:\"10px\"}}>                \r\n                                    Email:     <b>{this.state.user_email}</b>\r\n                                </div>\r\n                                <form onSubmit={this.handleResetPassword.bind(this)}> \r\n                                    <div className = \"settings-item\">                         \r\n                                        <input className=\"textBox\" name=\"password\" type=\"password\" placeholder=\"  New Password\"/>\r\n                                    </div>\r\n                                    <div className = \"settings-item\">                         \r\n                                        <input className=\"textBox\" name=\"confirmPassword\" type=\"password\" placeholder=\"  Confirm Password\"/>\r\n                                    </div>\r\n                                    <div className = \"settings-item\">\r\n                                        <button className= \"buttonz\"> Submit </button>\r\n                                    </div>\r\n                                </form>\r\n                                \r\n                                <div className=\"instructions\">Click below to modify specializations.</div>\r\n\r\n                                <div className = \"settings-item\">  \r\n                                    <Link to='/userTags'>\r\n                                        <button className= \"buttonz\">  Specializations</button>\r\n                                    </Link>     \r\n                                </div>\r\n\r\n                                <Divider horizontal> Admins Only </Divider>\r\n\r\n                                <div className = \"settings-item\"> \r\n                                    <Link to=\"/adminPage\">\r\n                                        <button className= \"buttonz\" onClick={this.redirectAdmin}> Manage Forum </button>\r\n                                    </Link>\r\n                                </div>\r\n                            </Segment>\r\n                        </div>\r\n                        <div className=\"endText\">\r\n                            <p1>\r\n                                 All Rights Reserved. KIWI by Symps.\r\n                            </p1>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else\r\n        {\r\n            return(\r\n            <div>\r\n                <TitleBar title=\"Settings\" />\r\n                <div className = \"setting\">            \r\n                    <div className = \"settingsWrap\">\r\n                        <Segment basic textAlign='center'>\r\n                            <div className = \"settings-item\" style={{paddingLeft:\"10px\"}}>                \r\n                                    Email:     <b>{this.state.user_email}</b>\r\n                            </div>\r\n                            <form onSubmit={this.handleResetPassword.bind(this)}> \r\n                                <div className = \"settings-item\">                         \r\n                                    <input className=\"textBox\" name=\"password\" type=\"password\" placeholder=\"  New Password\"/>\r\n                                </div>\r\n                                <div className = \"settings-item\">                         \r\n                                    <input className=\"textBox\" name=\"confirmPassword\" type=\"password\" placeholder=\"  Confirm Password\"/>\r\n                                </div>\r\n                                <div className = \"settings-item\">\r\n                                    <button className= \"buttonz\"> Submit </button>\r\n                                </div>\r\n                            </form>\r\n                            \r\n                            <div className=\"instructions\">Click below to modify specializations.</div>\r\n\r\n                            <div className = \"settings-item\">  \r\n                                <Link to='/userTags'>\r\n                                    <button className= \"buttonz\">  Specializations</button>\r\n                                </Link>     \r\n                            </div>\r\n                        </Segment>\r\n                        </div>\r\n                        <div className=\"endText\">\r\n                            <p1>\r\n                                 All Rights Reserved. KIWI by Symps.\r\n                            </p1>\r\n                        </div>\r\n                    </div>\r\n                </div>)\r\n        }\r\n    }\r\n};\r\n\r\nexport default Settings;","import React from \"react\";\r\n//import users from '../dummy_data/dummy_users.json'\r\nimport \"../css/DisplayUser.css\"\r\nimport { Icon } from \"semantic-ui-react\"\r\nimport axios from 'axios';\r\n\r\nclass DisplayUser extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            removed: false,\r\n            user_id: props.user_id,\r\n            first_name: props.first_name,\r\n            last_name: props.last_name,\r\n            email: props.email,\r\n            admin: props.admin,\r\n            checkemail: '',\r\n        };\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/getUserEmail',\r\n          }).then((response) => {\r\n            this.setState({checkemail: response.data.userEmail});\r\n            console.log(response.data);\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        var pending = (this.state.user_id == null) ? true : false;\r\n        \r\n        const handleAdmin = () => {\r\n            if(this.state.checkemail == this.state.email) {\r\n                alert('Can\\'t Un-admin Yourself');\r\n                return;\r\n            }\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://kiwi-test-app.herokuapp.com/users/toggleAdmin',\r\n                data: {\r\n                  userID: this.state.user_id\r\n                }\r\n              }).then((response) => {\r\n                this.setState({admin: !this.state.admin});\r\n            });\r\n        }\r\n\r\n        const handleRemove = () => {\r\n            if(this.state.checkemail == this.state.email) {\r\n                alert('Can\\'t Delete Yourself');\r\n                return;\r\n            }\r\n            if(window.confirm(\"Removing\" + \" \" + this.state.first_name + \" \" + this.state.last_name))\r\n            {\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/users/remove',\r\n                    data: {\r\n                    userID: this.state.user_id\r\n                    }\r\n                }).then((response) => {\r\n                    this.setState({removed: true});\r\n                });\r\n            }\r\n        }\r\n\r\n        if(this.state.removed){\r\n            return(\r\n            <div className=\"displayUserBarDU\"> \r\n                <div className=\"removed\"> removed </div>\r\n             </div>);\r\n        }\r\n        \r\n        else{\r\n            return(\r\n                <div className=\"displayUserBarDU\">\r\n                    <div className=\"first_nameDU\"> {this.state.first_name} </div>\r\n                    <div className=\"last_nameDU\"> {this.state.last_name} </div>\r\n                    <div className=\"emailDU\"> {this.state.email} </div>\r\n                    <div className=\"user_idDU\"> {this.state.user_id} </div>\r\n                    <div className=\"buttonsDU\">\r\n                        <button onClick={handleAdmin}> \r\n                            {this.state.admin ? \r\n                            <Icon fitted color=\"yellow\" name=\"star\"/> : \r\n                            <Icon fitted color=\"yellow\" name=\"star outline\"/>}\r\n                        </button>\r\n                    <button onClick={handleRemove}> X </button> \r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default DisplayUser;","import DisplayUser from \"../components/DisplayUser\"\r\nimport { Tab, Icon } from 'semantic-ui-react'\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\n\r\nclass UserTab extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading_user: true,\r\n            userList: [\"loading\"],\r\n            users: {\"loading\": true}\r\n        };  \r\n    }\r\n\r\n    componentWillMount(){\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/all'\r\n          }).then((response) => {\r\n              this.setState({users: response.data})\r\n            this.setState({userList: Object.keys(response.data),\r\n            loading_user: false});\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const handleAddEmployee = (event) => {\r\n            event.preventDefault();\r\n            // should tag_ids be in line below\r\n            const {email} = event.target.elements;\r\n            if(window.confirm(\"Adding employee with email:  \" + email.value))\r\n            {\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/inviteUser/',\r\n                    data: {\r\n                        email: email.value\r\n                    }\r\n                })\r\n            }\r\n            event.target.reset();\r\n        }\r\n        \r\n        return( <Tab.Pane className=\"adminPageAP\"> \r\n                        <h1 style={{textAlign: \"center\"}}> Add and Remove Employees </h1>\r\n\r\n                <div className=\"tagUserListAP\"> \r\n                    {this.state.loading_user ? \r\n                    <div> \r\n                        <Icon loading name='spinner' /> loading...\r\n                    </div> : \r\n                    <div className=\"ListOfUsers\">\r\n                        {this.state.userList.map(x => {\r\n                                return(\r\n                                    <DisplayUser user_id={x} \r\n                                    first_name={this.state.users[x][\"firstName\"]} \r\n                                    last_name={this.state.users[x][\"lastName\"]}\r\n                                    email={this.state.users[x][\"email\"]} \r\n                                    admin={this.state.users[x][\"admin\"]}/> );\r\n                            })}\r\n                    </div>}\r\n                    <div>\r\n                        <div className=\"addEmployeeAP\"> \r\n                            <div className=\"invitePromptAP\">Add Employee Email </div>\r\n                            <form className=\"TagForm\" onSubmit={handleAddEmployee.bind(this)}>\r\n                                <input className=\"inputBoxAP\" name=\"email\" type=\"email\" placeholder=\"  email\" />\r\n                                <button> + </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n            </Tab.Pane>);\r\n    }\r\n}\r\n\r\n\r\nexport default UserTab;","import { Tab, Icon } from 'semantic-ui-react'\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\n\r\nclass MetadataTagTab extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            tagList: {},\r\n            loading: true\r\n        };  \r\n    }\r\n\r\n    componentWillMount(){\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/metadata/getTagMetadata'\r\n          }).then((response) => {\r\n            console.log(response)\r\n            if(response.data.success == null) {\r\n              this.setState({tagList:response.data, loading:false});\r\n            } else if(!response.data.success) {\r\n              this.setState({tagList:{'No Metadata Recorded': 'Requires Posts to Record Data'}, loading:false});\r\n            } else {\r\n              this.setState({tagList:{'No Metadata Recorded': 'Requires Posts to Record Data'}, loading:false});\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {tagList} = this.state;\r\n\r\n        return (\r\n            <Tab.Pane className=\"adminPageAP\" >\r\n                <h1 style={{textAlign: \"center\"}}> Tag Meta Data (Occurences of Tags in Posts) </h1>\r\n                <div className=\"tagListAP\">  \r\n                    {this.state.loading ? \r\n                    <div> \r\n                        <Icon loading name='spinner' /> loading \r\n                    </div> \r\n                    : \r\n                    Object.keys(tagList).map((key) => {return <div className=\"MTTbar\"> {key}  : {this.state.tagList[key]} </div>})}\r\n                    \r\n                </div> \r\n            </Tab.Pane> \r\n        );\r\n    }\r\n}\r\n\r\nexport default MetadataTagTab;","import { Tab, Icon } from 'semantic-ui-react'\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\n\r\nclass MetadataUserTab extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            userList: {},\r\n            loading: true,\r\n        };  \r\n    }\r\n\r\n    componentWillMount(){\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/metadata/getUserMetadata'\r\n          }).then((response) => {\r\n              console.log(response)\r\n              if(response.data.success == null) {\r\n                this.setState({userList:response.data, loading:false});\r\n              } else if(!response.data.success) {\r\n                this.setState({userList:{'No Metadata Recorded': 'Requires Posts to Record Data'}, loading:false});\r\n              } else {\r\n                this.setState({userList:{'No Metadata Recorded': 'Requires Posts to Record Data'}, loading:false});\r\n              }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {userList} = this.state;\r\n\r\n        return (\r\n            <Tab.Pane className=\"adminPageAP\" >\r\n                <h1 style={{textAlign: \"center\"}}> User Meta Data (Frequency of Post by Users) </h1>\r\n                <div className=\"tagListAP\">  \r\n                    {this.state.loading ? \r\n                    <div> \r\n                        <Icon loading name='spinner' /> loading \r\n                    </div> \r\n                    : \r\n                    Object.keys(userList).map((key) => {return <div className=\"MUTbar\"> {key} :  {this.state.userList[key]} </div>})}\r\n                    \r\n                </div> \r\n            </Tab.Pane> \r\n        );\r\n    }\r\n}\r\n\r\nexport default MetadataUserTab;","import React from \"react\";\r\nimport \"../css/DisplayTags.css\"\r\nimport axios from 'axios';\r\n\r\nclass DisplayTag extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            removed: false,\r\n            tag_id: this.props.tag_id\r\n        };\r\n    }\r\n\r\n    render(){\r\n        const handleRemove = () => {\r\n            if(window.confirm(\"Removing\" + \" \" + this.state.tag_id))\r\n            {\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/tags/remove',\r\n                    data: {\r\n                        tagName: this.state.tag_id\r\n                    }\r\n                }).then((response) => {\r\n                    this.setState({removed: true});\r\n                });\r\n            }\r\n        }\r\n\r\n        if(this.state.removed)\r\n        {\r\n            return (\r\n                <div className=\"tagButtonDT\">\r\n                    <div className=\"removed\"> removed </div>\r\n                </div>);\r\n        }\r\n        return(\r\n            <div>\r\n                <button onClick={handleRemove} className=\"tagButtonDT\"> {this.state.tag_id} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DisplayTag;","import DisplayTag from \"../components/DisplayTag\"\r\nimport { Tab, Icon } from 'semantic-ui-react'\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\n\r\nclass TagTab extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading_tag: true,\r\n            tagList: [\"loading\"],\r\n            currTag: ''\r\n        };  \r\n    }\r\n\r\n    componentWillMount(){\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/tags/getTags'\r\n          }).then((response) => {\r\n            this.setState({tagList: Object.keys(response.data.tags),\r\n            loading_tag: false});\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const handleAddTag = (event) =>{\r\n            event.preventDefault();\r\n            // should tag_ids be in line below\r\n            const {tagname} = event.target.elements;\r\n            this.setState({currTag: tagname.value});\r\n            if(window.confirm(\"Adding specialization:  \" + tagname.value))\r\n            {\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/tags/add',\r\n                    data: {\r\n                    tagName: tagname.value\r\n                    }\r\n                }).then(() => {\r\n                    this.state.tagList.push(this.state.currTag);\r\n                    this.setState({tagList: this.state.tagList})\r\n                });\r\n            }\r\n            event.target.reset();\r\n        }\r\n\r\n        return(\r\n            <Tab.Pane className=\"adminPageAP\" >\r\n                <h1 style={{textAlign: \"center\"}}> Add and Remove Specializations </h1>\r\n                <div className=\"tagListAP\"> \r\n                    {this.state.loading_tag ? \r\n                    <div> \r\n                        <Icon loading name='spinner' /> loading \r\n                    </div> \r\n                    : \r\n                    this.state.tagList.map(x => {return<div> <DisplayTag tag_id={x}/> </div>;})}\r\n                </div> \r\n                <div className=\"addTagAP\"> \r\n                    <div className=\"tagPromptAP\">Add tag name </div>\r\n                    <form className=\"TagForm\" onSubmit={handleAddTag.bind(this)}>\r\n                        <input className=\"inputBoxAP\" name=\"tagname\" type=\"tagname\" placeholder=\"  tag name\" />\r\n                        <button> + </button>\r\n                    </form>\r\n                </div>\r\n            </Tab.Pane> );\r\n    }\r\n}\r\n\r\nexport default TagTab;","import React from \"react\";\r\nimport \"../css/AdminPage.css\"\r\nimport TitleBar from \"../components/TitleBar\";\r\nimport UserTab from \"../components/UserTab\";\r\nimport MetadataTagTab from \"../components/MetadataTagTab\";\r\nimport MetadataUserTab from \"../components/MetadataUserTab\";\r\nimport TagTab from \"../components/TagTab\";\r\nimport { Tab } from 'semantic-ui-react'\r\n\r\n\r\nclass AdminPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        var panes = [\r\n            { menuItem: 'Users', render: () => <UserTab />},\r\n            { menuItem: 'Tags', render: () => <TagTab />},\r\n            { menuItem: 'Metadata - Tags', render: () => <MetadataTagTab  />},\r\n            { menuItem: 'Metadata - Users', render: () => <MetadataUserTab />}\r\n        ];\r\n\r\n        return(\r\n            <div>\r\n                <TitleBar title=\"Manage Forum\" />\r\n                <Tab panes={panes} />\r\n                <div className=\"endText\">                   \r\n                    <p1>\r\n                         All Rights Reserved. KIWI by Symps.\r\n                    </p1>\r\n                </div>\r\n            </div>);\r\n    }\r\n\r\n}\r\n\r\nexport default AdminPage;","import React from \"react\";\r\nimport \"../css/usertags.css\"\r\nimport axios from 'axios';\r\n\r\nclass SpecializationButton extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        // takes in what tag we print and a list of user info and the class \r\n        this.state = {\r\n            thisTag: this.props.tag,\r\n            user_info: this.props.user_tags,\r\n            tagButton: 'tagButton'\r\n        };\r\n\r\n        this.checkSpecialization();\r\n    }\r\n\r\n\r\n\r\n    // adds a specialization\r\n    addSpecialization = (thisTag) => {\r\n        // this tag is what we are removing\r\n        var currTag = thisTag;\r\n        if (this.state.user_info == '' ) {\r\n            var newJSON = {};\r\n        } else {\r\n            var newJSON = this.state.user_info;\r\n        }\r\n        axios.defaults.withCredentials = true;\r\n        axios({\r\n\t\t\tmethod: 'post',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/addSpecialization',\r\n            data: {\r\n                tag: currTag\r\n            },\r\n            withCredentials: true\r\n          })\r\n          // print statements\r\n          .then((response) => {\r\n\t\t\tif (response.data.success) {\r\n                // Wait until update processes before redirecting\r\n                console.log(\"successfully added\");\r\n\r\n                newJSON[thisTag] = thisTag;\r\n                this.setState({user_info: newJSON});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"Tag was not added\");\r\n            }\r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\tconsole.log(error);\r\n          });\r\n    }\r\n\r\n\r\n    // removes a specialization from a user\r\n    removeSpecialization = (thisTag) => {\r\n        // this tag is what we are removing\r\n        var currTag = thisTag;\r\n        if (this.state.user_info == '' ) {\r\n            var newJSON = {};\r\n        } else {\r\n            var newJSON = this.state.user_info;\r\n        }\r\n        axios.defaults.withCredentials = true;\r\n        axios({\r\n\t\t\tmethod: 'post',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/removeSpecialization',\r\n            data: {\r\n                tag: currTag\r\n            },\r\n            withCredentials: true\r\n          })\r\n          // gets the response and prints console.\r\n          .then((response) => {\r\n\t\t\tif (response.data.success) {\r\n                // Wait until update processes before redirecting\r\n                console.log(\"Tag was successfully removed!\");\r\n                delete newJSON[thisTag];\r\n\r\n                this.setState({user_info: newJSON});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"Tag was not added\");\r\n            }\r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\tconsole.log(error);\r\n          });\r\n    }\r\n    \r\n\r\n    // This will check if its in the right state checked or unchecked\r\n    checkSpecialization() {\r\n        const {user_info} = this.state;\r\n        const {tagButton} = this.state;\r\n        const {thisTag} = this.state;\r\n\r\n        // if the user has the property then it displays it highlighted\r\n        if(user_info.hasOwnProperty(thisTag) && tagButton == 'tagButton') {\r\n            this.setState({tagButton: 'tagButton2'})\r\n        } // else if the user doesnt have that property and its the wrong highlighted version\r\n        else if (!user_info.hasOwnProperty(thisTag) && tagButton == 'tagButton2') {\r\n            this.setState({tagButton: 'tagButton'})\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        const {user_info} = this.state;\r\n        const {tagButton} = this.state;\r\n        const {thisTag} = this.state;\r\n\r\n        this.checkSpecialization();\r\n\r\n        // method to change what is currently on page\r\n        const handleToggle = () => {\r\n            if(user_info.hasOwnProperty(thisTag)) {\r\n                this.removeSpecialization(thisTag);\r\n            }\r\n            else {\r\n                this.addSpecialization(thisTag);\r\n            }\r\n        }\r\n        \r\n        // just prints one button with the styling\r\n        return (\r\n            <button onClick={handleToggle} className={tagButton}>{thisTag}</button>\r\n        );\r\n    \r\n    }\r\n}\r\n\r\nexport default SpecializationButton;","import React from 'react';\r\nimport \"../css/usertags.css\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport TitleBar from \"../components/TitleBar\"\r\nimport axios from 'axios';\r\nimport SpecializationButton from '../components/SpecializationButton';\r\n\r\n\r\n\r\nclass UserTags extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            info: {},\r\n            user_info: {},\r\n            isLoading: true\r\n        };\r\n\r\n\r\n        // gets the tag list of the company\r\n        axios.defaults.withCredentials = true;\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: 'https://kiwi-test-app.herokuapp.com/tags/getTags',\r\n            withCredentials: true,\r\n\t\t  })\r\n\t\t  .then((response) => { \r\n\t\t\tif (response != undefined) { \r\n                this.setState({info: response.data.tags});   \r\n\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"error with tags.\");\r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\tconsole.log(error);\r\n          });\r\n\r\n\r\n        axios.defaults.withCredentials = true;\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/users/userTags',\r\n            withCredentials: true,\r\n        })\r\n        .then((response) => { \r\n            // rechecks if the user has the tag \r\n            if (response != undefined) { \r\n                // updates user\r\n                this.setState({user_info: response.data});   \r\n                this.setState({isLoading: false});\r\n            } else {\r\n                console.log(\"error with tags.\");\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n          \r\n    }\r\n\r\n\r\n    // just refreshes the page with the tags removed\r\n    resetTags = (event) => {\r\n        event.preventDefault();\r\n        // should tag_ids be in line below\r\n        axios.defaults.withCredentials = true;\r\n        axios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: 'https://kiwi-test-app.herokuapp.com/users/removeAllUserTags',\r\n            withCredentials: true\r\n          })\r\n\r\n          .then((response) => {\r\n            window.location.reload(false);\r\n\t\t\tif (response.data.success) {\r\n                // Wait until update processes before redirecting\r\n                alert(\"Removed All Tags!\");\r\n                // Redirect to home page\r\n\t\t\t} else {\r\n\t\t\t\tconsole(\"um functional error?\");\r\n            }\r\n            \r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\tconsole.log(error);\r\n          });\r\n    }\r\n\r\n    \r\n    \r\n    render() {\r\n        const {info} = this.state;\r\n        const {user_info} = this.state;\r\n\r\n        return(\r\n            <div>\r\n            <TitleBar title=\"Specializations\"/>\r\n            <div className=\"mainTagsPage\">\r\n                <div className=\"mainContainer\"> \r\n                    <h1>\r\n                        Select Your Specializations\r\n                    </h1>\r\n                    <div className=\"tagListBox\">\r\n                        {this.state.isLoading ? \r\n                            <div> \r\n                                <Icon loading name='spinner' /> loading \r\n                            </div> \r\n                            : \r\n                            Object.keys(info).map((key, i) => ( <SpecializationButton user_tags={user_info} tag={key}/>))\r\n                        }\r\n                    </div>\r\n                    <div className=\"doneButtons\">\r\n                        <button onClick={this.resetTags} className=\"resetButton\">Clear Specializations</button>\r\n                        <Link to=\"/settings\">\r\n                            <button className=\"completeButton\">Back To Settings</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"endText\">\r\n                    <p1>\r\n                         All Rights Reserved. KIWI by Symps.\r\n                    </p1>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n   \r\n\r\nexport default UserTags;","import React from 'react';\r\nimport { Label } from \"semantic-ui-react\";\r\n\r\n\r\nclass DisplayingTagsPost extends React.Component {\r\n    render() {\r\n        let {tags} = this.props;\r\n        if(tags === undefined){\r\n            tags = [];\r\n        }\r\n        return (\r\n            <div className=\"tag-display\">\r\n                {tags.map((item, i) =>\r\n                    <Label key={i} color='purple' size='big'>\r\n                        {item}\r\n                    </Label>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DisplayingTagsPost;","import React from 'react';\r\nimport \"../css/PostCards.css\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../css/Forum.css\"\r\nimport DisplayingTagsPost from \"./DisplayingTagsPost\";\r\nimport axios from 'axios';\r\n\r\nclass OriginalPoster extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstPoster: this.props.firstPoster,\r\n            postID: this.props.postID,\r\n            name: this.props.name,\r\n            title: this.props.title,\r\n            tags: this.props.tags,\r\n            datetime: this.props.datetime,\r\n            karma: this.props.karma,\r\n            content: this.props.content,\r\n            isFollowing: false\r\n        };\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'https://kiwi-test-app.herokuapp.com/posts/isFollowing',\r\n            data: {\r\n                post_id: this.state.postID\r\n            }\r\n        }).then((response) => {\r\n            this.setState({\r\n                isFollowing: response.data.isFollowing\r\n            });\r\n        });\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        const handleFollow = () => {\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://kiwi-test-app.herokuapp.com/posts/follow',\r\n                data: {\r\n                    post_id: this.state.postID\r\n                }\r\n            }).then((response) => {\r\n                this.setState({\r\n                    isFollowing: true\r\n                });\r\n            });\r\n        };\r\n\r\n        const handleUnfollow = () => {\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://kiwi-test-app.herokuapp.com/posts/unfollow',\r\n                data: {\r\n                    post_id: this.state.postID\r\n                }\r\n            }).then((response) => {\r\n                this.setState({\r\n                    isFollowing: false\r\n                });\r\n            });\r\n        };\r\n\r\n        return (\r\n            <div className={\"original-post\"}>\r\n                <div className={\"header\"}>\r\n                    <h1 className={\"title\"} style={{ color: \"black\" }}>{this.state.title}</h1>\r\n                </div>\r\n                <div className={\"postInfo\"}>\r\n                    <div>\r\n                        <h2 className={\"postID\"}>{\"ID: \" + this.state.postID}</h2>\r\n                    </div>\r\n                    <div className={\"postBy\"}>\r\n                        <h2>{\"Posted by: \" + this.state.name}</h2>\r\n                    </div>\r\n                    {this.state.firstPoster ? null :\r\n                        !this.state.isFollowing ?\r\n                            (<span>\r\n                                <button className={\"button\"} onClick={handleFollow}>Follow Post</button>\r\n                            </span>) :\r\n                            (<span>\r\n                                <button className={\"button\"} onClick={handleUnfollow}>Unfollow Post</button>\r\n                            </span>)\r\n                    }\r\n                </div>\r\n                <div className={\"content\"}>\r\n                    <p className={\"text-content\"}>{this.state.content}</p>\r\n                </div>\r\n                <div className={\"bottom-section\"}>\r\n                    <div className={\"datetime\"}>\r\n                        <h1 className={\"karma\"}>\r\n                            {this.props.hasEndorsed ? <button className={\"button\"} onClick={() => { this.props.scrollEndorsed() }}>View Endorsed</button> : null}\r\n                        </h1>\r\n                        <h3 className={\"createdDate\"}>{\"Created on: \" + this.state.datetime}</h3>\r\n                    </div>\r\n                    <div className={\"tagList\"}>\r\n                        <DisplayingTagsPost tags={this.state.tags} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(OriginalPoster);","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport \"../css/Forum.css\"\r\nimport axios from 'axios'\r\n\r\nclass Response extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstPoster: this.props.firstPoster,\r\n            name: this.props.name,\r\n            datetime: this.props.datetime,\r\n            karma: this.props.karma,\r\n            content: this.props.content,\r\n            endorsed: this.props.endorsed,\r\n            userUpvoted: this.props.userUpvoted,\r\n            responseID: this.props.responseID\r\n        };\r\n    }\r\n\r\n    upvoteSwitch = () => {\r\n        if (this.state.userUpvoted === true) { // logic for removing upvote\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://kiwi-test-app.herokuapp.com/response/UndoUpvote',\r\n                data: {\r\n                    response_id: this.state.responseID\r\n                },\r\n                withCredentials: true\r\n            })\r\n                .then((response) => {\r\n                    if (response.data.success) {\r\n                        // Wait until update processes before redirecting\r\n                        this.setState({\r\n                            userUpvoted: false,\r\n                            karma: this.state.karma - 1\r\n                        });\r\n                    } else {\r\n                        alert(\"Removing upvote was not processed. Try again.\");\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        } else { // userUpvoted === false, add upvote\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://kiwi-test-app.herokuapp.com/response/UpvoteResponse',\r\n                data: {\r\n                    response_id: this.state.responseID\r\n                },\r\n                withCredentials: true\r\n            })\r\n                .then((response) => {\r\n                    if (response.data.success) {\r\n                        // Wait until update processes before redirecting\r\n                        this.setState({\r\n                            userUpvoted: true,\r\n                            karma: this.state.karma + 1\r\n                        })\r\n                    } else {\r\n                        alert(\"Upvote was not processed. Try again.\");\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    }\r\n\r\n    endorseSwitch = () => {\r\n        if (this.state.endorsed === true) { // logic for removing endorsement\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://kiwi-test-app.herokuapp.com/response/undoEndorse',\r\n                data: {\r\n                    response_id: this.state.responseID\r\n                },\r\n                withCredentials: true\r\n            })\r\n                .then((response) => {\r\n                    if (response.data.success) {\r\n                        // Wait until update processes before redirecting\r\n                        this.props.postUnendorse() // change post\r\n                        this.setState({\r\n                            endorsed: false\r\n                        });\r\n                    } else {\r\n                        alert(\"Removing endorsement was not processed. Try again.\");\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        } else { // userUpvoted === false, add upvote\r\n            if (this.props.isPostEndorsed !== null) { // the post is endorsed!\r\n                alert(\"This post already has an endorsement. Please remove the other endorsement if you wish to endorse this instead.\")\r\n            } else { // post not endorsed, we're good\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/response/EndorseResponse',\r\n                    data: {\r\n                        response_id: this.state.responseID\r\n                    },\r\n                    withCredentials: true\r\n                })\r\n                    .then((response) => {\r\n                        if (response.data.success) {\r\n                            this.props.postEndorse(this.state.responseID)\r\n                            this.setState({\r\n                                endorsed: true\r\n                            })\r\n                            // Wait until update processes before redirecting\r\n                        } else {\r\n                            alert(\"Endorsement was not processed. Try again.\");\r\n                        }\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"response-post\"} ref={this.props.myRef}>\r\n                <div className={\"leftSide\"}>\r\n                    <div className={\"rPoster\"}>\r\n                        <h2 className={\"responder\"}>{this.state.name + \": \"}</h2>\r\n                    </div>\r\n                    <div className={\"rDate\"}>\r\n                        <h3>{\"Created on: \"}{\"\\n\"}{this.state.datetime}</h3>\r\n                    </div>\r\n                </div>\r\n                <div className={\"middleContent\"}>\r\n                    <div className={\"rContent\"}>\r\n                        <p className={\"text-content\"}>{this.state.content}</p>\r\n                    </div>\r\n                </div>\r\n                <div className={\"rightSide\"}>\r\n                    <div className={\"rStar\"}>\r\n                        {this.state.endorsed ? <Icon name=\"star\" color={\"yellow\"} size={\"big\"} /> : <div />}\r\n                    </div>\r\n                    {this.state.firstPoster ? <div><button className={\"button\"} onClick={this.endorseSwitch}>{this.state.endorsed ? \"Unendorse\" : \"Endorse\"}</button></div> : <div></div>}\r\n                    <div className={\"rKarma\"}>\r\n                        <h1><button className={\"button\"} onClick={this.upvoteSwitch.bind(this)}>{this.state.userUpvoted ? \"Remove Upvote\" : \"Upvote\"}</button>{\"   + \" + this.state.karma}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Response);","import React from 'react';\n\n//component used when the post fails to load\nexport default class Failure extends React.Component {\n\n    render() {\n        return (<div>Failed to load</div>)\n    }\n}\n","import React from 'react';\r\nimport \"../css/Forum.css\"\r\nimport '../css/App.css';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../css/AddResponse.css\"\r\n\r\n\r\nclass AddResponse extends React.Component {\r\n\r\n    addResponse = (event) => {\r\n        event.preventDefault();\r\n        const { responseText } = event.target.elements;\r\n        axios.defaults.withCredentials = true;\r\n        axios({\r\n            method: 'POST',\r\n            url: 'https://kiwi-test-app.herokuapp.com/response/AddResponse',\r\n            data: {\r\n                post_id: this.props.postID,\r\n                content: responseText.value,\r\n            },\r\n            withCredentials: true\r\n        })\r\n\r\n            .then((response) => {\r\n                if (response.data.success) {\r\n                    // Wait until update processes before redirecting\r\n                    // Redirect to home page\r\n                    // this.props.history.refresh(this.props.postID);\r\n                    this.props.responseUpdate()\r\n                    responseText.value = \"\"\r\n                } else {\r\n                    alert(\"Response was not created. Try again.\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.addResponse}>\r\n                <div className=\"AddResponse-submission\">\r\n                    <div className={\"writingReply\"}>\r\n                        <textarea name={\"responseText\"} className={\"responseText\"} placeholder={\"Write your response here.\"} />\r\n                        <div className={\"postResponse\"}>\r\n                            <button className={\"button\"}>Post Response</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(AddResponse);\r\n","import React, { useRef } from 'react';\r\nimport '../css/Home.css';\r\nimport '../css/App.css';\r\nimport OriginalPoster from \"../components/OriginalPoster\";\r\nimport Response from \"../components/Response\";\r\nimport Failure from '../components/Failure'\r\nimport axios from 'axios'\r\nimport TitleBar from \"../components/TitleBar\";\r\nimport AddResponse from \"../components/AddResponse\";\r\n\r\nclass ViewPost extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.latestResponse = 0;\r\n        this.lockResponse = false;\r\n        this.endorsedRef = React.createRef()\r\n\r\n        this.state = {\r\n            endorsedID: null,\r\n            createdPost: false,\r\n            loaded: false,\r\n            postID: props.id,\r\n            userID: \"\",\r\n            users: {},\r\n            title: \"Post Not Found\",\r\n            tags: [],\r\n            datetime: \"\",\r\n            content: \"\",\r\n            OP: \"\",\r\n            karma: 0,\r\n            responseObjs: [],\r\n            responseText: [],\r\n            responseIDs: [],\r\n            failed: false,\r\n        }\r\n    }\r\n\r\n    responseHTML = (obj, index, postEndorsed, responseIDs) => {\r\n        return (<Response key={index}\r\n            myRef={obj.endorsed ? this.endorsedRef : null}\r\n            firstPoster={this.state.createdPost}\r\n            datetime={obj.datetime}\r\n            content={obj.content}\r\n            karma={obj.karma}\r\n            endorsed={obj.endorsed}\r\n            name={this.getName(obj.user_id)}\r\n            isPostEndorsed={postEndorsed}\r\n            postEndorse={this.postEndorse.bind(this)}\r\n            postUnendorse={this.postUnendorse.bind(this)}\r\n            responseID={responseIDs[index]}\r\n            userUpvoted={obj.userUpvoted} />)\r\n    }\r\n\r\n    getName = (userid) => {\r\n        let name = \"Deleted User\";\r\n        if (this.state.users !== undefined && this.state.users[userid] !== undefined) {\r\n            name = this.state.users[userid].firstName + \" \" + this.state.users[userid].lastName;\r\n\r\n        }\r\n        return name;\r\n    }\r\n\r\n    upvotedMerge = (arr1, arr2) => {\r\n        for (var key in arr2) {\r\n            arr1[key].userUpvoted = arr2[key]\r\n        }\r\n        return arr1\r\n    }\r\n\r\n    refreshForNewResponse = () => { this.refreshResponse(this.state.endorsedID) }\r\n\r\n    refreshResponse = (postEndorsed) => {\r\n        this.endorsedRef = React.createRef()\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/posts/' + this.props.id.toString(),\r\n        }).then((results) => {\r\n            // do this to convince javascript that responses is an array\r\n            var responses = [], responseIDs = [], responseText = []\r\n            responses = this.upvotedMerge(results.data.responses, results.data.responseBools)\r\n            if (responses) { // now convinced that it is an array...\r\n                responseText = Object.values(responses)\r\n                responseIDs = Object.keys(responses)\r\n\r\n                // update variables! offset is how many we already have, latest response is all the responses we've now read\r\n                this.latestResponse = responses.length\r\n\r\n                // update the state to have the new response objects\r\n                this.setState({\r\n                    responseText: responseText,\r\n                    responseIDs: responseIDs,\r\n                    responseObjs: responseText.map((obj, i) => this.responseHTML(obj, i, postEndorsed, responseIDs))\r\n                })\r\n            }\r\n        }).catch((error) => { console.log(error); this.setState({ failed: true }) })\r\n    }\r\n\r\n    postEndorse = (id) => {\r\n        this.refreshResponse(id)\r\n        this.setState({\r\n            endorsedID: id\r\n        })\r\n    }\r\n\r\n    postUnendorse = () => {\r\n        this.refreshResponse(null)\r\n        this.setState({\r\n            endorsedID: null\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        // TODO: THESE CAN BE ASYNC AS LONG AS BOTH ARE RETRIEVED BEFORE RENDER\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/posts/' + this.props.id.toString(),\r\n        }).then((results) => {\r\n            console.log(results.data);\r\n            var responses = []\r\n            responses = this.upvotedMerge(results.data.responses, results.data.responseBools)\r\n            var responseText = [], responseIDs = []\r\n            if (responses) {\r\n                responseText = Object.values(responses)\r\n                responseIDs = Object.keys(responses)\r\n            }\r\n            console.log(responseText)\r\n            this.setState({\r\n                createdPost: results.data.createdPost,\r\n                title: results.data.posts.title,\r\n                tags: results.data.posts.tag_ids,\r\n                datetime: results.data.posts.date_time,\r\n                karma: results.data.posts.karma,\r\n                responseText: responseText,\r\n                responseIDs: responseIDs,\r\n                content: results.data.posts.content,\r\n                userID: results.data.posts.user_id,\r\n                loaded: false,\r\n                failed: false,\r\n            })\r\n\r\n        })\r\n            .then(() => {\r\n                axios({\r\n                    method: 'get',\r\n                    url: 'https://kiwi-test-app.herokuapp.com/users/allUsers',\r\n                })\r\n                    .then((response) => {\r\n                        if (response.status === 200) {\r\n                            this.setState({ users: response.data });\r\n                        }\r\n                    })\r\n                    .then(() => {\r\n                        // get endorsed response, assuming only one in backend which will be enforced by frontend\r\n                        for (var i = 0; i < this.state.responseText.length; ++i) {\r\n                            if (this.state.responseText[i].endorsed === true) {\r\n                                this.setState({\r\n                                    endorsedID: this.state.responseIDs[i]\r\n                                })\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        this.latestResponse = this.state.responseText.length\r\n\r\n                        this.setState({\r\n                            responseObjs: this.state.responseText.map((obj, i) => this.responseHTML(obj, i, this.state.endorsedID, this.state.responseIDs)),\r\n                            OP: this.getName(this.state.userID),\r\n                            loaded: true\r\n                        })\r\n                    }).catch((error) => {\r\n                        console.log(error);\r\n                        this.setState({ failed: true })\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error);\r\n                        this.setState({ failed: true })\r\n                    })\r\n            })\r\n\r\n    }\r\n\r\n    scrollEndorsed = () => {\r\n        if (this.endorsedRef.current) {\r\n            this.endorsedRef.current.scrollIntoView({\r\n                behavior: 'smooth'\r\n            })\r\n            console.log(\"scrolling to\")\r\n            console.log(this.endorsedRef)\r\n            console.log(this.endorsedRef.current.offsetTop)\r\n        } else {\r\n            console.log(\"nothing to scroll to\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { createdPost, postID, userID, title, tags, datetime, content, karma, responseObjs, loaded, failed, OP } = this.state;\r\n\r\n        if (this.state.loaded) {\r\n            return (\r\n                <div className={\"container\"}>\r\n                    <div>\r\n                        <TitleBar title=\"Post\" />\r\n                        <div className=\"posts-container\">\r\n                            <OriginalPoster firstPoster={createdPost} postID={postID} userID={userID} title={title}\r\n                                tags={tags} datetime={datetime} karma={karma}\r\n                                content={content} name={OP} scrollEndorsed={this.scrollEndorsed.bind(this)} hasEndorsed={this.state.endorsedID} />\r\n                            <a className={\"content-link\"} href=\"#responseAdding\"><button className={\"renderResponse\"}>Reply</button></a>\r\n                            {responseObjs}\r\n                            <div id={\"responseAdding\"}>\r\n                                <AddResponse postID={postID} responseUpdate={this.refreshForNewResponse.bind(this)} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            );\r\n        } else if (!loaded && !failed) {\r\n            return (<div> <TitleBar title=\"Post\" /> <div className=\"posts-container\"> Loading... </div> </div>)\r\n        } else {\r\n            return <Failure />\r\n        }\r\n    }\r\n}\r\n\r\nexport default ViewPost;\r\n","import React from 'react';\r\nimport \"../css/PostCreate.css\"\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Dropdown } from \"semantic-ui-react\"\r\n\r\nconst MAX_TITLE_LENGTH = 170\r\nconst MAX_POST_LENGTH = 5000\r\n\r\nclass PostCreate extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //firstPoster: this.props.firstPoster,\r\n            //postID: this.props.postID,\r\n            //name: this.props.name,\r\n            //title: this.props.title,\r\n            //tags: this.props.tags,\r\n            // datetime: this.props.datetime,\r\n            // karma: this.props.karma,\r\n            // content: this.props.content\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"post-create\"}>\r\n                <input className=\"titleBox\" name=\"title\" placeholder=\"Post Title\" maxlength={MAX_TITLE_LENGTH} />\r\n                <textarea className=\"postContent\" name=\"postContent\" placeholder=\"Post Content\" maxlength={MAX_POST_LENGTH} />\r\n                <div className={\"publish-section\"}>\r\n                    <Dropdown fluid multiple selection clearable search scrolling text=\"tags\" options={this.props.dropdownOpt} onChange={this.props.dropdownChange} value={this.props.dropdownVal} />\r\n                    <button type=\"Publish Post\"> Publish Post </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(PostCreate);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport TitleBar from \"../components/TitleBar\"\r\nimport PostCreate from \"../components/PostCreate\"\r\n\r\n\r\nclass CreatePost extends React.Component {\r\n\r\n    state = { tags_selected: [], tags: [] };\r\n\r\n    componentWillMount() {\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://kiwi-test-app.herokuapp.com/tags/',\r\n        })\r\n            .then((response) => {\r\n                if (response.data.success) {\r\n                    for (var key in response.data.tags) {\r\n                        var x = response.data.tags[key].key;\r\n                        this.setState({ tags: [...this.state.tags, { key: x, text: x, value: x }] });\r\n                    }\r\n                } else {\r\n                    console.log(\"bad\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    sendPost = (event) => {\r\n        event.preventDefault();\r\n        // should tag_ids be in line below\r\n        const { title, postContent } = event.target.elements;\r\n        axios.defaults.withCredentials = true;\r\n        if (title.value.length == 0) {\r\n            alert(\"Your title is empty! Please fill in a title and try again.\")\r\n            return\r\n        } else if (postContent.value.length == 0) {\r\n            alert(\"Your post is empty! Please fill in the post and try again.\")\r\n            return\r\n        } else if (this.state.tags_selected.length == 0) {\r\n            alert(\"You have no tags selected! Please select at least one tag.\")\r\n            return\r\n        }\r\n        axios({\r\n            method: 'post',\r\n            url: 'https://kiwi-test-app.herokuapp.com/posts/CreatePost',\r\n            data: {\r\n                title: title.value,\r\n                tag_ids: this.state.tags_selected,\r\n                content: postContent.value,\r\n            },\r\n            withCredentials: true\r\n        })\r\n\r\n            .then((response) => {\r\n                if (response.data.success) {\r\n                    // Wait until update processes before redirecting\r\n                    this.props.history.replace('/');\r\n                } else {\r\n                    alert(\"Post was not created. Try again.\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    getTags = (event, { value }) => {\r\n\r\n        if (value.length > 5) {\r\n            alert(\"Too many tags selected\");\r\n            return;\r\n        } else {\r\n            // tags_selected is value of array\r\n            this.setState({ tags_selected: value });\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"container\"}>\r\n                <div>\r\n                    <TitleBar title=\"Create New Post\" />\r\n                    <div className=\"posts-container\">\r\n                        <form onSubmit={this.sendPost}>\r\n                            <PostCreate dropdownOpt={this.state.tags} dropdownChange={this.getTags.bind(this)} dropdownVal={this.state.tags_selected} />\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default withRouter(CreatePost);","import React from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport './css/App.css';\r\n\r\n\r\nimport Home from './routes/Home';\r\nimport SignUp from './routes/SignUp';\r\nimport AdminSignUp from './routes/AdminSignUp'\r\nimport Login from './routes/Login';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport Settings from \"./routes/Settings\";\r\nimport AdminPage from \"./routes/AdminPage\"\r\nimport UserTags from './routes/UserTags';\r\n\r\n//<PrivateRoute path=\"/\" exact render={(props) => <Home {...props}/>}/>\r\nimport ViewPost from './routes/ViewPost';\r\n//import CreatePosts from './routes/CreatePosts'\r\n\r\n// algolia -> posts [(id,content, whatever)]\r\n// click post->[search firebase data for this postID, content, resposnes]\r\n// postid ->from firebase\r\n\r\n// post -> click (dont pass down props CONTENT from algolia was this, display this)\r\n// kiwis.tech/company/forum/POSTID\r\n// route /POSTID:\r\n// return the proper post information.\r\n\r\nimport CreatePost from './routes/CreatePost';\r\n\r\n\r\n\r\n\r\n\r\n//<Route path=\"/signup\" exact render={(props) => <Login {...props}/> }/> we took this out\r\nfunction App() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Route path=\"/login\" exact render={(props) => <Login {...props} />} />\r\n\t\t\t<Route path=\"/signup\" exact render={(props) => <SignUp {...props} />} />\r\n\t\t\t<PrivateRoute path=\"/viewPost/:id\" dynamic={true} component={ViewPost} />\r\n\t\t\t<Route path=\"/signup/:id\" exact render={(props) => <SignUp {...props} />} />\r\n\t\t\t<PrivateRoute exact path=\"/\" component={Home} />\r\n\t\t\t<PrivateRoute exact path=\"/createPost\" component={CreatePost} />\r\n\t\t\t<Route path=\"/userTags\" exact render={(props) => <UserTags {...props} />} />\r\n\t\t\t<Route path=\"/adminsignup\" exact render={(props) => <AdminSignUp {...props} />} />\r\n\t\t\t<PrivateRoute exact path=\"/settings\" component={Settings} />\r\n\t\t\t<PrivateRoute exact path=\"/adminPage\" component={AdminPage} />\r\n\t\t</div>\r\n\t);\r\n}\r\n//<PrivateRoute exact path=\"/createPost\" component={CreatePosts} />\r\nexport default withRouter(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {AuthProvider} from './auth/Auth';\r\n\r\nReactDOM.render(\r\n\t<AuthProvider>\r\n  \t<BrowserRouter>\r\n    \t<App />\r\n  \t</BrowserRouter>\r\n\t</AuthProvider>, \r\n  \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/vectorlogo.42df0b1f.png\";"],"sourceRoot":""}